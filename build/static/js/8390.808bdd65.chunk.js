"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[8390],{8390:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var n=a(2791),o=a(2892),i=a(1087),t=(a(3307),a(1632)),c=a(9806),l=a(5963),r=a(10),d=a(5167),u=a(3615),m=a(1650),h=a(9915),x=a(9401),j=a(9434),p=a(1757),f=a(3607),v=a(184);const N=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,w=/^.{8,24}$/,g=()=>{const e=(0,j.I0)(),s=(0,n.useRef)(),a=(0,n.useRef)(),[g,b]=(0,n.useState)(!1),[y,C]=(0,n.useState)(""),[E,S]=(0,n.useState)(!1),[k,G]=(0,n.useState)(!1),[Z,F]=(0,n.useState)(""),[P,B]=(0,n.useState)(!1),[R,U]=(0,n.useState)(""),[A,I]=(0,n.useState)(!1),[L,z]=(0,n.useState)(!1),[_,q]=(0,n.useState)(""),[T,D]=(0,n.useState)(!1),[M,Y]=(0,n.useState)(!1),[$,O]=(0,n.useState)(""),[V,H]=(0,n.useState)(!1),[J,K]=(0,n.useState)(0),[Q,W]=(0,n.useState)(!1),[X,ee]=(0,n.useState)(!1);(0,n.useEffect)((()=>{s.current.focus()}),[]),(0,n.useEffect)((()=>{const e=N.test(y);console.log(e),console.log(y),S(e)}),[y]),(0,n.useEffect)((()=>{const e=w.test(R);console.log(e),console.log(R),I(e);D(R===_)}),[R,_]),(0,n.useEffect)((()=>{O("")}),[y,R,_]),(0,n.useEffect)((()=>{B(Z.length>0)}),[Z]),(0,n.useEffect)((()=>{if(J>0){const e=setTimeout((()=>{K(J-1)}),1e3);return()=>clearTimeout(e)}}),[J]);const[se,ae]=(0,n.useState)({email:"",password:"",otp:""}),ne=e=>{const{name:s,value:a}=e.target;ae({...se,[s]:a})};return(0,v.jsxs)(v.Fragment,{children:[V&&(0,v.jsx)(l.Z,{onClick:()=>{console.log("Navigating to LoginPhone"),window.location.href="/LoginEmail"}}),(0,v.jsxs)(v.Fragment,{children:[g&&(0,v.jsx)(f.Z,{type:"error",message:$}),(0,v.jsxs)("div",{className:"reset-form-container",children:[(0,v.jsxs)("form",{className:"reset-form",onSubmit:async s=>{s.preventDefault();const n=N.test(y),i=w.test(R);if(n&&i){try{e((0,p.P)(!0));201===(await o.Z.put("/api/reset-password-email",se)).status&&(e((0,p.P)(!1)),H(!0),C(""),U(""),q(""),F(""))}catch(t){e((0,p.P)(!1));let s="An error occurred during updating password";if(t.response)switch(t.response.status){case 404:s="Email not found.";break;case 401:s="Invalid or expired verification code.";break;default:console.error("Error:",t)}else console.error("Error:",t);H(!1),O(s),b(!0)}a.current&&a.current.focus()}else O("Invalid Entry")},children:[(0,v.jsxs)("div",{className:"row1",children:[(0,v.jsx)("div",{className:"col1",children:(0,v.jsx)(i.rU,{to:"/",children:(0,v.jsx)("img",{src:d,alt:"",className:"auth-form-logo"})})}),(0,v.jsxs)("div",{className:"col2",children:[(0,v.jsx)(i.rU,{to:"/LoginEmail",children:"Sign in"})," to Yogeek or ",(0,v.jsx)(i.rU,{to:"/RegisterByEmail",children:"create an account"})]})]}),(0,v.jsxs)("div",{className:"row2 input-container",children:[(0,v.jsxs)("div",{className:"col1",children:[(0,v.jsxs)("label",{htmlFor:"emailAddress",children:["Email",(0,v.jsx)(c.G,{icon:t.LEp,className:E?"valid":"hide"}),(0,v.jsx)(c.G,{icon:t.NBC,className:E||!y?"hide":"invalid"})]}),(0,v.jsx)(i.rU,{to:"/ResetByPhone",children:"Reset with phone number"})]}),(0,v.jsxs)("div",{className:"col2",children:[(0,v.jsx)("input",{type:"text",placeholder:"Enter your email address",id:"emailAddress",name:"email",className:"input-email",ref:s,autoComplete:"off",onChange:e=>{C(e.target.value),ne(e)},value:y,required:!0,"aria-invalid":E?"false":"true","aria-describedby":"uidnote",onFocus:()=>G(!0),onBlur:()=>G(!1)}),(0,v.jsxs)("p",{id:"uidnote",className:k&&y&&!E?"instructions":"offscreen",children:[(0,v.jsx)(c.G,{icon:t.sqG,color:"red"}),(0,v.jsx)("span",{children:" Invalid email address format!"})]})]})]}),(0,v.jsxs)("div",{className:"row3 input-container",children:[(0,v.jsx)("div",{className:"col1",children:(0,v.jsx)("b",{children:"Verification Code"})}),(0,v.jsxs)("div",{className:"col2",children:[(0,v.jsx)("input",{type:"text",placeholder:"Enter the verification code",name:"otp",value:Z,onChange:e=>{F(e.target.value),ne(e)}}),J>0&&(0,v.jsx)("div",{className:"instructions",children:(0,v.jsxs)("span",{children:["OTP sent to your email expires in: ",J,"s"]})}),Q?(0,v.jsx)("div",{className:"send-otp-spinner",children:(0,v.jsx)(x.r,{})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.Z,{type:"button",label:X?"Resend Code":"Send Code",onClick:async e=>{e.preventDefault();try{b(!1),W(!0);201===(await o.Z.put("/api/reset-password-otp-email",se)).status&&(W(!1),ee(!0),K(120))}catch(s){404===s.response.status&&(O("Email not found."),H(!1),W(!1),b(!0))}},className:"send-code",disabled:!E||J})})]})]}),(0,v.jsxs)("div",{className:"row4 input-container",children:[(0,v.jsx)("div",{className:"col1",children:(0,v.jsxs)("label",{htmlFor:"password",children:["New Password",(0,v.jsx)(c.G,{icon:t.LEp,className:A?"valid":"hide"}),(0,v.jsx)(c.G,{icon:t.NBC,className:A||!R?"hide":"invalid"})]})}),(0,v.jsxs)("div",{className:"col2",children:[(0,v.jsx)("input",{type:"password",id:"password",placeholder:"Enter your new password",name:"password",onChange:e=>{U(e.target.value),ne(e)},value:R,"aria-invalid":A?"false":"true","aria-describedby":"pwdnote",onFocus:()=>z(!0),onBlur:()=>z(!1)}),(0,v.jsxs)("p",{id:"pwdnote",className:L&&!A?"instructions":"offscreen",children:[(0,v.jsx)(c.G,{icon:t.sqG}),(0,v.jsx)("span",{children:" Must be 8 to 24 characters."})]})]})]}),(0,v.jsxs)("div",{className:"row5 input-container",children:[(0,v.jsx)("div",{className:"col1",children:(0,v.jsxs)("label",{htmlFor:"confirm_pwd",children:["Confirm Password",(0,v.jsx)(c.G,{icon:t.LEp,className:T&&_?"valid":"hide"}),(0,v.jsx)(c.G,{icon:t.NBC,className:T||!_?"hide":"invalid"})]})}),(0,v.jsxs)("div",{className:"col2",children:[(0,v.jsx)("input",{type:"password",id:"confirm_pwd",onChange:e=>q(e.target.value),value:_,"aria-invalid":T?"false":"true","aria-describedby":"confirmnote",onFocus:()=>Y(!0),onBlur:()=>Y(!1),placeholder:"Re-enter your new password"}),(0,v.jsxs)("p",{id:"confirmnote",className:M&&!T?"instructions":"offscreen",children:[(0,v.jsx)(c.G,{icon:t.sqG}),(0,v.jsx)("span",{children:" Must match the first password input field."})]})]})]}),(0,v.jsx)("div",{className:"row6",children:(0,v.jsx)(r.Z,{onClick:()=>b(!1),label:"Reset Password",className:"reset-btn",disabled:!E||!P||!A||!T})})]}),(0,v.jsxs)("div",{className:"row7",children:[(0,v.jsx)("div",{className:"horizontal-line"}),(0,v.jsx)("small",{children:"or"}),(0,v.jsx)("div",{className:"horizontal-line"})]}),(0,v.jsx)("div",{className:"row8",children:(0,v.jsx)(r.Z,{icon:(0,v.jsx)(m.r,{}),label:"Continue with Facebook",className:"facebook-btn",IconclassName:"fb-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/facebook/callback");window.open(e,"_self")}})}),(0,v.jsx)("div",{className:"row9",children:(0,v.jsx)(r.Z,{icon:(0,v.jsx)(h.r,{}),label:"Continue with Google",className:"google-btn",IconclassName:"google-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/google");window.open(e,"_self")}})}),(0,v.jsx)("div",{className:"row10",children:(0,v.jsxs)("small",{children:["By continuing, you agree to Yogeek ",(0,v.jsx)(i.rU,{to:"#",children:"Conditions of Use"})," and ",(0,v.jsx)(i.rU,{to:"#",children:"Privacy Notice"}),"."]})})]})]})]})};var b=a(1938);a(2413);const y=()=>(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"form-body",children:[(0,v.jsx)("div",{className:"container",children:(0,v.jsx)("div",{className:"form-box",children:(0,v.jsx)(g,{})})}),(0,v.jsx)(b.Z,{})]})})}}]);
//# sourceMappingURL=8390.808bdd65.chunk.js.map