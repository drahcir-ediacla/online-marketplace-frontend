"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[3110],{2506:(e,s,i)=>{i.d(s,{r:()=>r});var l,t,n=i(2791);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},o.apply(this,arguments)}function a(e,s){let{title:i,titleId:a,...r}=e;return n.createElement("svg",o({viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":a},r),i?n.createElement("title",{id:a},i):null,l||(l=n.createElement("path",{d:"M8.96087 3.68213H3.8358C3.62759 3.68213 3.42739 3.69014 3.2352 3.71416C1.08107 3.89834 0 5.1716 0 7.51793V10.7211C0 13.9243 1.28127 14.5569 3.8358 14.5569H4.15612C4.33229 14.5569 4.56452 14.677 4.66862 14.8132L5.62957 16.0944C6.05399 16.663 6.74268 16.663 7.1671 16.0944L8.12805 14.8132C8.24817 14.653 8.44036 14.5569 8.64056 14.5569H8.96087C11.3072 14.5569 12.5805 13.4838 12.7646 11.3217C12.7887 11.1295 12.7967 10.9293 12.7967 10.7211V7.51793C12.7967 4.9634 11.5154 3.68213 8.96087 3.68213ZM3.60357 10.0885C3.15512 10.0885 2.80278 9.72812 2.80278 9.28768C2.80278 8.84724 3.16313 8.48689 3.60357 8.48689C4.044 8.48689 4.40436 8.84724 4.40436 9.28768C4.40436 9.72812 4.044 10.0885 3.60357 10.0885ZM6.39834 10.0885C5.94989 10.0885 5.59754 9.72812 5.59754 9.28768C5.59754 8.84724 5.9579 8.48689 6.39834 8.48689C6.83877 8.48689 7.19913 8.84724 7.19913 9.28768C7.19913 9.72812 6.84678 10.0885 6.39834 10.0885ZM9.20111 10.0885C8.75267 10.0885 8.40032 9.72812 8.40032 9.28768C8.40032 8.84724 8.76068 8.48689 9.20111 8.48689C9.64155 8.48689 10.0019 8.84724 10.0019 9.28768C10.0019 9.72812 9.64155 10.0885 9.20111 10.0885Z",fill:"#404040"})),t||(t=n.createElement("path",{d:"M16 4.3148V7.51798C16 9.11956 15.5035 10.2086 14.5105 10.8092C14.2703 10.9534 13.99 10.7612 13.99 10.4809L13.998 7.51798C13.998 4.3148 12.1642 2.48099 8.96105 2.48099L4.08426 2.48899C3.80399 2.48899 3.6118 2.20872 3.75594 1.96848C4.35653 0.975496 5.44561 0.479004 7.03915 0.479004H12.1642C14.7188 0.479004 16 1.76027 16 4.3148Z",fill:"#404040"})))}const r=n.forwardRef(a);i.p},2529:(e,s,i)=>{i.d(s,{r:()=>a});var l,t=i(2791);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},n.apply(this,arguments)}function o(e,s){let{title:i,titleId:o,...a}=e;return t.createElement("svg",n({viewBox:"0 0 4 15",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":o},a),i?t.createElement("title",{id:o},i):null,l||(l=t.createElement("path",{d:"M2.0263 11.1111C3.11535 11.1111 3.99998 11.9826 3.99998 13.0556C3.99998 14.1285 3.11535 15 2.0263 15C0.937246 15 0.0526123 14.1285 0.0526123 13.0556C0.0526123 11.9826 0.937246 11.1111 2.0263 11.1111ZM2.0263 5.55556C3.11535 5.55556 3.99998 6.42708 3.99998 7.5C3.99998 8.57292 3.11535 9.44444 2.0263 9.44444C0.937246 9.44444 0.0526123 8.57292 0.0526123 7.5C0.0526123 6.42708 0.937246 5.55556 2.0263 5.55556ZM3.99998 1.94444C3.99998 3.01736 3.11535 3.88889 2.0263 3.88889C0.937246 3.88889 0.0526123 3.01736 0.0526123 1.94444C0.0526123 0.871528 0.937246 0 2.0263 0C3.11535 0 3.99998 0.871528 3.99998 1.94444Z"})))}const a=t.forwardRef(o);i.p},5470:(e,s,i)=>{i.d(s,{Z:()=>t});i(2791),i(5509);var l=i(184);const t=e=>{let{label:s,onClick:i,className:t,active:n}=e;return(0,l.jsx)("button",{className:"category-button ".concat(n?"active":""," ").concat(t),onClick:i,children:s})}},3052:(e,s,i)=>{i.d(s,{Z:()=>v});var l,t=i(2791),n=i(7689),o=i(2892);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},a.apply(this,arguments)}function r(e,s){let{title:i,titleId:n,...o}=e;return t.createElement("svg",a({width:22,height:17,viewBox:"0 0 22 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":n},o),i?t.createElement("title",{id:n},i):null,l||(l=t.createElement("path",{d:"M9.57143 15.6429H21M1 8.50003H21M9.57143 1.35718H21",stroke:"#222222",strokeLinecap:"round",strokeLinejoin:"round"})))}const c=t.forwardRef(r);i.p;var d=i(2506),u=i(184);const v=e=>{var s;let{data:i}=e;const l=(0,n.s0)(),[a,r]=(0,t.useState)(!1),[v,p]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await o.Z.get("/api/fetchforumcategories");p(e.data)}catch(e){console.error("Error fetching data:",e)}})()}),[]);const h=()=>{r((e=>!e))},m=(e,s)=>{l("/forum/category/".concat(e,"/").concat(s)),r(!1)};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("button",{className:"brwse-category-btn",onClick:h,children:[(0,u.jsx)(c,{}),(0,u.jsx)("span",{children:"Browse by Category"})]}),a&&(0,u.jsxs)("div",{className:"ss-nav-category-container",children:[(0,u.jsxs)("div",{className:"ss-nav-category-row1",children:[(0,u.jsx)("span",{children:"Browse by Category"}),(0,u.jsx)("button",{className:"close-btn",onClick:h,children:(0,u.jsx)("i",{className:"fa fa-times"})})]}),(0,u.jsx)("div",{className:"ss-nav-category-row2",children:(0,u.jsx)("ul",{className:"forum-category-list",children:null===v||void 0===v||null===(s=v.categories)||void 0===s?void 0:s.map((e=>(0,u.jsxs)("li",{className:"forum-main-category",children:[(0,u.jsxs)("button",{className:"parent-forum-category",onClick:()=>m(e.id,e.name),children:[(0,u.jsx)("div",{className:"group-msg-icon",children:(0,u.jsx)(d.r,{})}),e.name]}),e.subcategories.map((e=>(0,u.jsx)("ul",{className:"forum-subcategory",children:(0,u.jsx)("li",{children:(0,u.jsx)("button",{onClick:()=>m(e.id,e.name),className:"first-level-forum-subcategory",children:e.name})})},e.id)))]},e.id)))})}),(0,u.jsx)("div",{className:"ss-nav-category-row3"})]})]})}},1296:(e,s,i)=>{i.d(s,{Z:()=>p});var l,t,n,o=i(2791),a=i(2892);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},r.apply(this,arguments)}function c(e,s){let{title:i,titleId:a,...c}=e;return o.createElement("svg",r({width:20,height:17,viewBox:"0 0 20 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":a},c),i?o.createElement("title",{id:a},i):null,l||(l=o.createElement("path",{d:"M19.6471 8.99751L11.1716 0.522071C11.0588 0.411268 10.9252 0.323891 10.7784 0.264978C10.6317 0.206064 10.4747 0.176779 10.3166 0.17881H9.01221L18.7671 9.82133L12.1952 16.4494C12.307 16.5613 12.4398 16.6501 12.586 16.7106C12.7322 16.7712 12.8889 16.8024 13.0471 16.8024C13.2053 16.8024 13.362 16.7712 13.5082 16.7106C13.6543 16.6501 13.7871 16.5613 13.899 16.4494L19.6471 10.7013C19.759 10.5895 19.8477 10.4567 19.9083 10.3105C19.9689 10.1643 20 10.0076 20 9.84942C20 9.69119 19.9689 9.53452 19.9083 9.38835C19.8477 9.24217 19.759 9.10936 19.6471 8.99751Z",fill:"#404040"})),t||(t=o.createElement("path",{d:"M3.82592 4.8408C4.28435 4.8408 4.65599 4.46917 4.65599 4.01073C4.65599 3.5523 4.28435 3.18066 3.82592 3.18066C3.36748 3.18066 2.99585 3.5523 2.99585 4.01073C2.99585 4.46917 3.36748 4.8408 3.82592 4.8408Z",fill:"#404040"})),n||(n=o.createElement("path",{d:"M16.2893 9.02237L7.81388 0.540696C7.7026 0.426511 7.56966 0.33568 7.42285 0.273522C7.27603 0.211365 7.11828 0.179132 6.95884 0.178711H1.20454C0.885073 0.178711 0.578694 0.305617 0.3528 0.531511C0.126906 0.757405 0 1.06378 0 1.38325V7.13755C0.000432235 7.2955 0.0320844 7.4518 0.0931361 7.59746C0.154188 7.74313 0.243435 7.87529 0.355744 7.98635L8.83742 16.468C8.94928 16.5799 9.08209 16.6687 9.22826 16.7293C9.37443 16.7898 9.53111 16.821 9.68933 16.821C9.84756 16.821 10.0042 16.7898 10.1504 16.7293C10.2966 16.6687 10.4294 16.5799 10.5412 16.468L16.2893 10.72C16.5134 10.4943 16.6392 10.1892 16.6392 9.87116C16.6392 9.55314 16.5134 9.24802 16.2893 9.02237ZM9.72366 15.588L1.25446 7.13755V1.42693H6.93388L15.4093 9.83996L9.72366 15.588Z",fill:"#404040"})))}const d=o.forwardRef(c);i.p;var u=i(7145),v=i(184);const p=e=>{let{label:s}=e;const[i,l]=(0,o.useState)(!1),[t,n]=(0,o.useState)([]);(0,o.useEffect)((()=>{(async()=>{try{const e=await a.Z.get("/api/fetchforumtags");n(e.data)}catch(e){console.log("Error fetching forum tags",e)}})()}),[]);const r=()=>{l((e=>!e))};return(0,v.jsxs)(v.Fragment,{children:[i&&(0,v.jsx)(u.Z,{onClick:r,tagsData:t}),(0,v.jsxs)("button",{className:"popular-tags-btn-label",onClick:r,children:[(0,v.jsx)(d,{}),s]}),(0,v.jsx)("button",{className:"popular-tags-btn",onClick:r,children:(0,v.jsx)(d,{})})]})}},8558:(e,s,i)=>{i.d(s,{Z:()=>a});var l=i(3052),t=i(1296),n=i(953),o=i(184);const a=e=>{let{onClickBrwseByCategory:s}=e;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"ss-nav-btn-container",children:(0,o.jsxs)("div",{className:"ss-nav-btn-box",children:[(0,o.jsxs)("div",{className:"ss-nav-btn-box-row1",children:[(0,o.jsx)(l.Z,{}),(0,o.jsx)(t.Z,{label:"Popular Tags"})]}),(0,o.jsx)("div",{className:"start-discussion",children:(0,o.jsx)(n.Z,{label:"Start a discussion"})}),(0,o.jsx)("div",{className:"new-discussion",children:(0,o.jsx)(n.Z,{label:"New"})})]})})})}},7497:(e,s,i)=>{i.d(s,{Z:()=>a});var l=i(2791),t=i(6770),n=i.n(t),o=(i(6009),i(184));const a=e=>{let{className:s,value:i,onChange:t,id:a,name:r,placeholder:c}=e;const[d,u]=(0,l.useState)(!1);return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(n(),{id:a,name:r,theme:"snow",value:i,onChange:t,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:[]}],["bold","italic","underline","strike","blockquote"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["html"]]},className:s,placeholder:c})})}},4601:(e,s,i)=>{i.d(s,{Z:()=>g});var l=i(2791),t=i(2892),n=i(9434),o=i(4564),a=i(7385),r=i(7689),c=i(1087),d=i(5143),u=i(4781),v=i(5470),p=i(7145),h=i(8290),m=(i(5862),i(7556),i(184));const x=e=>{let{menus:s}=e;return Array(s).fill(0).map(((e,s)=>(0,m.jsx)(h.Z,{height:35,width:205,className:"side-nav-categories"})))};var j=i(1842);const g=e=>{var s;let{createdDiscussionsTab:i,joinedDiscussionsTab:h,userActivityTab:g,forumNotificationsTab:f,addDiscussionsBtn:y,discussionFilter:C,createdDiscussionsData:w,joinedDiscussionsData:N,activitiesData:_,paramsUserData:b,notifications:k,sortOptions:Z,onOptionSelect:S,emptySortDiscussions:E,className:L}=e;const O=(0,n.I0)(),T=(0,n.v9)((e=>e.user.data)),D=(0,n.v9)((e=>e.forumcategories.data)),R=(0,n.v9)((e=>e.forumtags.data)),{userId:H,tab:F}=(0,r.UO)(),M=Number(H),P=Number(null===T||void 0===T?void 0:T.id),U=(0,r.s0)(),I=(0,r.TH)(),[A,B]=(0,l.useState)(C),[V,J]=(0,l.useState)([]),[Y,G]=(0,l.useState)(Array.isArray(I.state)?I.state:[]),[W,q]=(0,l.useState)(!1),[z,K]=(0,l.useState)({}),[Q,X]=(0,l.useState)(0),[$,ee]=(0,l.useState)(0),[se,ie]=(0,l.useState)({}),[le,te]=(0,l.useState)(!0),[ne,oe]=(0,l.useState)(!0),[ae,re]=(0,l.useState)(!1);(0,l.useEffect)((()=>{D?te(!1):(te(!0),O((0,o.y)()))}),[O,D]),(0,l.useEffect)((()=>{0===R.length?(oe(!0),O((0,a.l)())):oe(!1)}),[O,R]),(0,l.useEffect)((()=>{I.state&&I.state.selectedTags&&G(I.state.selectedTags)}),[I.state]),(0,l.useEffect)((()=>{(async()=>{try{const e=await t.Z.get("/api/user/".concat(H)),{id:s,display_name:i,profile_pic:l,createdAt:n}=e.data;K({id:s,display_name:i,profile_pic:l,createdAt:n}),b(e.data)}catch(e){console.log("Error fetching data:",e)}})()}),[H,b]),(0,l.useEffect)((()=>{null===V&&J(D[0].id)}),[D,V]),(0,l.useEffect)((()=>{(async()=>{try{const e=await t.Z.get("/api/".concat(H,"/created/discussion")),s=e.data.sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at)));X(e.data.length),w(s)}catch(e){console.log("Error fetching user created discussions:",e)}})()}),[H,w]),(0,l.useEffect)((()=>{(async()=>{try{const e=await t.Z.get("/api/".concat(H,"/joined/discussion")),s=e.data.sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at)));ee(e.data.length),N(s)}catch(e){console.log("Error fetching user created discussions:",e)}})()}),[H,N]),(0,l.useEffect)((()=>{(async()=>{try{const e=(await t.Z.get("/api/forum-activities/".concat(H))).data.sort(((e,s)=>new Date(s.createdAt)-new Date(e.createdAt)));_(e)}catch(e){console.log("Error fetching forum activities:",e)}})()}),[H,_]),(0,l.useEffect)((()=>{(async()=>{try{const e=await t.Z.get("/api/total-forum-notifications");ie(e.data)}catch(e){console.log("Error fetching total unread notifications",e)}})()}),[k]),(0,l.useEffect)((()=>{switch(F){case"created_discussions":i(),B(!0);break;case"joined_discussions":h(),B(!0);break;case"user_activity":g(),B(!1);break;case"notifications":f(),B(!1);break;case"add_discussions":y(),B(!1)}}),[F,U,i,h,g,f,y]);const ce=()=>{U("/forum/profile/".concat(H,"/created_discussions")),i()},de=()=>{U("/forum/profile/".concat(H,"/joined_discussions")),h()},ue=()=>{U("/forum/profile/".concat(H,"/user_activity")),g()},ve=()=>{U("/forum/profile/".concat(H,"/notifications")),f()},pe=()=>{"function"===typeof E&&E([])},he=()=>{re((e=>!e))},me=()=>{q((e=>!e))},xe=(null===z||void 0===z?void 0:z.createdAt)||"",je=new Date(xe).toLocaleDateString("en-US",{year:"numeric",month:"long"});return(0,m.jsxs)(m.Fragment,{children:[ae&&(0,m.jsx)(j.Z,{onClick:he}),W&&(0,m.jsx)(p.Z,{onClick:me,tagsData:R}),(0,m.jsxs)("div",{className:"forum-category-page-filter-nav ".concat(L),children:[T?(0,m.jsx)(m.Fragment,{children:H&&(0,m.jsxs)("div",{className:"forum-category-page-row1",children:[(0,m.jsxs)("div",{className:"forum-category-page-row1-row1",children:[(0,m.jsx)("img",{src:z.profile_pic||d,alt:"",className:"forum-profile-pic"}),(0,m.jsxs)("div",{className:"user-display-name",children:[(0,m.jsx)("p",{children:z.display_name}),(0,m.jsxs)("small",{children:["Joined in\xa0",je]})]})]}),(0,m.jsxs)("ul",{className:"forum-profile-menu",children:[(0,m.jsxs)("li",{onClick:ce,children:["Created Discussions ",(0,m.jsxs)("span",{className:"forum-activity-counter",children:["(",Q,")"]})]}),(0,m.jsxs)("li",{onClick:de,children:["Joined Discussions ",(0,m.jsxs)("span",{className:"forum-activity-counter",children:["(",$,")"]})]}),(0,m.jsx)("li",{onClick:ue,children:"Latest Activity"}),P===M?(0,m.jsxs)("li",{onClick:ve,className:"forum-notifications",children:["Notifications ",se.totalCount>0&&(0,m.jsx)("div",{className:"forum-notification-counter",children:se.totalCount})]}):null]})]})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"forum-category-page-row1 not-authenticated",children:[(0,m.jsx)("p",{children:"Join our community, elevate your marketplace experience!"}),(0,m.jsx)("button",{type:"button",className:"forum-login-btn",onClick:he,children:"Sign In"}),(0,m.jsxs)("p",{children:["Don\u2019t have a Yogeek account? ",(0,m.jsx)(c.rU,{to:"/registerbyemail",children:"Sign up"})]})]}),H&&(0,m.jsxs)("div",{className:"forum-category-page-row1",children:[(0,m.jsxs)("div",{className:"forum-category-page-row1-row1",children:[(0,m.jsx)("img",{src:z.profile_pic||d,alt:"",className:"forum-profile-pic"}),(0,m.jsxs)("div",{className:"user-display-name",children:[(0,m.jsx)("p",{children:z.display_name}),(0,m.jsxs)("small",{children:["Joined in\xa0",je]})]})]}),(0,m.jsxs)("ul",{className:"forum-profile-menu",children:[(0,m.jsxs)("li",{onClick:ce,children:["Created Discussions ",(0,m.jsxs)("span",{className:"forum-activity-counter",children:["(",Q,")"]})]}),(0,m.jsxs)("li",{onClick:de,children:["Joined Discussions ",(0,m.jsxs)("span",{className:"forum-activity-counter",children:["(",$,")"]})]}),(0,m.jsx)("li",{onClick:ue,children:"Latest Activity"}),P===M?(0,m.jsxs)("li",{onClick:ve,className:"forum-notifications",children:["Notifications ",se.totalCount>0&&(0,m.jsx)("div",{className:"forum-notification-counter",children:se.totalCount})]}):null]})]})]}),A&&(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"forum-sortby",children:[(0,m.jsx)("label",{children:"SORT BY"}),(0,m.jsx)(u.Z,{data:Z,onOptionSelect:S,className:"forum-sortby-dropdown-select"})]})}),(0,m.jsxs)("div",{className:"forum-category-page-row2",children:[(0,m.jsx)("div",{className:"section-label-container",children:(0,m.jsx)("label",{children:"CATEGORIES"})}),(0,m.jsxs)("div",{className:"forum-category-btn-container",children:[le&&(0,m.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"3px"},children:(0,m.jsx)(x,{menus:8})}),null===D||void 0===D||null===(s=D.categories)||void 0===s?void 0:s.map((e=>(0,m.jsx)(c.OL,{activeclassname:"active",className:"forum-category-menu",to:"/forum/category/".concat(e.id,"/").concat(e.name),onClick:pe,children:e.name},e.id)))]})]}),(0,m.jsxs)("div",{className:"forum-category-page-row3",children:[(0,m.jsx)("div",{className:"section-label-container",children:(0,m.jsx)("label",{children:"POPULAR TAGS"})}),(0,m.jsxs)("div",{className:"forum-category-btn-container",children:[ne&&(0,m.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"3px"},children:(0,m.jsx)(x,{menus:8})}),R.slice(0,10).map((e=>(0,m.jsx)(v.Z,{onClick:()=>{return s=e.id,void G((e=>{const i=e.includes(s)?e.filter((e=>e!==s)):[...e,s];return"function"===typeof E&&E([]),U("/forum/filtertags",{state:{selectedTags:i}}),i}));var s},label:e.name,className:"tag-btn ".concat(Y.includes(e.id)?"active":"")},e.id))),(0,m.jsxs)("div",{className:"more-tags",style:{justifyContent:Y.length>0?"space-between":"end"},children:[Y&&Y.length>0&&(0,m.jsx)("button",{onClick:()=>{const e=[];G(e),U("/forum/filtertags",{state:{selectedTags:e}})},children:"Clear all"}),(0,m.jsx)("button",{onClick:me,children:"Select more tags"})]})]})]})]})]})}},2420:(e,s,i)=>{i.r(s),i.d(s,{default:()=>U});var l,t=i(2791),n=i(7689),o=i(1087),a=i(9434),r=i(1663),c=i(2892),d=i(6704),u=i(5089),v=i(3220),p=i(4601),h=i(3545),m=i(1842),x=i(1757),j=i(7497),g=i(9088),f=i(5864),y=i(7318),C=i(2529);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},w.apply(this,arguments)}function N(e,s){let{title:i,titleId:n,...o}=e;return t.createElement("svg",w({viewBox:"0 0 22 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":n},o),i?t.createElement("title",{id:n},i):null,l||(l=t.createElement("path",{d:"M13.2222 1H15.4444C18.5127 1 21 3.46244 21 6.5C21 9.53754 18.5127 12 15.4444 12H13.2222M8.77778 1H6.55556C3.48731 1 1 3.46244 1 6.5C1 9.53754 3.48731 12 6.55556 12H8.77778M6.55556 6.5H15.4444",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round"})))}const _=t.forwardRef(N);i.p;var b,k=i(5143),Z=i(7531),S=i(4781),E=i(953),L=i(314),O=i(3615);i(5509);function T(){return T=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var i=arguments[s];for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&(e[l]=i[l])}return e},T.apply(this,arguments)}function D(e,s){let{title:i,titleId:l,...n}=e;return t.createElement("svg",T({width:20,height:17,viewBox:"0 0 20 17",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":l},n),i?t.createElement("title",{id:l},i):null,b||(b=t.createElement("path",{d:"M8.31424 4.76667V0.5L0.87793 7.96667L8.31424 15.4333V11.06C13.6259 11.06 17.3441 12.7667 19.9999 16.5C18.9376 11.1667 15.7506 5.83333 8.31424 4.76667Z"})))}const R=t.forwardRef(D);i.p;var H=i(184);const F=e=>{let{className:s,label:i,onClick:l}=e;return(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)("button",{className:"default-reply-btn-style ".concat(s),onClick:l,children:[(0,H.jsx)("div",{className:"reply-icon-style",children:(0,H.jsx)(R,{})}),(0,H.jsx)("span",{children:i})]})})};var M=i(3607),P=i(8558);const U=()=>{const{discussionId:e}=(0,n.UO)(),s=(0,n.TH)(),i=new URLSearchParams(s.search).get("repliedPostId"),l=(0,a.I0)(),w=(0,n.s0)(),N=(0,a.v9)((e=>e.user.data)),[b,T]=(0,t.useState)({}),[D,R]=(0,t.useState)({}),[U,I]=(0,t.useState)({}),[A,B]=(0,t.useState)(""),[V,J]=(0,t.useState)(null),[Y,G]=(0,t.useState)(null),[W,q]=(0,t.useState)(null),[z,K]=(0,t.useState)(null),[Q,X]=(0,t.useState)([]),[$,ee]=(0,t.useState)([]),[se,ie]=(0,t.useState)(!1),[le,te]=(0,t.useState)({}),[ne,oe]=(0,t.useState)({show:!1,type:"",message:""}),[ae,re]=(0,t.useState)(""),[ce,de]=(0,t.useState)([]),ue=["Most Recent","Most Liked"].map((e=>({label:e,value:e.toLowerCase()})));(0,t.useEffect)((()=>{(async()=>{if(e){l((0,x.P)(!0));try{const s=await c.Z.get("/api/discussions/".concat(e,"/posts"));X(s.data);const i=s.data[0].replies.length>0?s.data[0].replies:[];ee(i);const l=s.data.length>0?s.data[0].post_id:null;if(q(l),null===s.data[0].parent_post_id){const e=s.data.length>0?s.data[0].user_id:null;K(e)}}catch(s){s.response&&404===s.response.status?w("/404"):console.error("Error fetching data:",s)}finally{l((0,x.P)(!1))}}})()}),[e,l,w]),(0,t.useEffect)((()=>{const e=e=>{e.target.closest(".three-dots")||e.target.closest(".three-dots-option")||te({})};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,t.useEffect)((()=>{const e={};Q.forEach((s=>{0===s.replies.length&&(e[s.post_id]=!0)})),T(e)}),[Q]),(0,t.useEffect)((()=>{(async()=>{try{await c.Z.post("/api/post/".concat(W,"/view"))}catch(e){console.error("Error updating post views:",e)}})()}),[W]),(0,t.useEffect)((()=>{i&&Q.length>0&&ve(i)}),[i,Q]);const ve=e=>{Q.forEach((s=>{var i;null===s||void 0===s||null===(i=s.replies)||void 0===i||i.forEach((s=>{var i;if((null===s||void 0===s?void 0:s.post_id)===e)pe(s.post_id);else if(null!==s&&void 0!==s&&null!==(i=s.replies)&&void 0!==i&&i.some((s=>{var i;return(null===s||void 0===s?void 0:s.post_id)===e||(null===s||void 0===s||null===(i=s.replies)||void 0===i?void 0:i.some((s=>(null===s||void 0===s?void 0:s.post_id)===e)))}))){var l;U[null===s||void 0===s?void 0:s.post_id]||Ce(null===s||void 0===s?void 0:s.post_id),null===s||void 0===s||null===(l=s.replies)||void 0===l||l.forEach((s=>{var i;if((null===s||void 0===s?void 0:s.post_id)===e)pe(null===s||void 0===s?void 0:s.post_id);else if(null!==s&&void 0!==s&&null!==(i=s.replies)&&void 0!==i&&i.some((s=>(null===s||void 0===s?void 0:s.post_id)===e))){var l;U[null===s||void 0===s?void 0:s.post_id]||Ce(null===s||void 0===s?void 0:s.post_id),null===s||void 0===s||null===(l=s.replies)||void 0===l||l.forEach((s=>{(null===s||void 0===s?void 0:s.post_id)===e&&pe(null===s||void 0===s?void 0:s.post_id)}))}}))}}))}))},pe=e=>{setTimeout((()=>{const s=document.getElementById(e);s&&window.scrollTo(0,s.offsetTop)}),500)},he=async(s,i,l,t)=>{if(!N)return void ie(!0);const n=window.scrollY;try{await c.Z.post("/api/forum/post/like",{post_id:s,discussion_id:e,user_id:i,title:l,postCreatorName:t});const o=await c.Z.get("/api/discussions/".concat(e,"/posts"));X(o.data);const a=o.data[0].replies||[];ee(a),de(fe(ae));const r=document.getElementById("post-".concat(s));if(r){const e=r.getBoundingClientRect().top+window.scrollY,s=window.innerHeight/2-r.offsetHeight/2;window.scrollTo({top:e-s,behavior:"smooth"})}else window.scrollTo(0,n)}catch(o){console.error("Error updating likes:",o)}},me=[...$].sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at))),xe=[...$].sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at))),je=ce&&ce.length>0?ce:me||[],ge=[...$].sort(((e,s)=>{const i=e.likes?e.likes.length:0;return(s.likes?s.likes.length:0)-i})),fe=async e=>{"most recent"===e.value&&(de(xe),re("most recent")),"most liked"===e.value&&(de(ge),re("most liked"))},ye=()=>{ie(!0)},Ce=e=>{I((s=>({...s,[e]:!s[e]})))},we=e=>{R((s=>({...s,[e]:!s[e]})))},Ne=e=>{te({}),te((s=>({...s,[e]:!0})))},_e=e=>{T({}),T((s=>({...s,[e]:!s[e]}))),b[e]||(B(""),G(e))},be=async s=>{try{oe({show:!1,type:"",message:""});const i="".concat(window.location.origin,"/forum/discussion/").concat(e,"?repliedPostId=").concat(s);await navigator.clipboard.writeText(i),oe({show:!0,type:"success",message:"URL copied to clipboard!"})}catch(i){console.error("Failed to copy URL: ",i),oe({show:!0,type:"error",message:"Failed to copy the URL. Please try again."})}},ke=()=>{T({}),B(""),G(null),J(null)},Ze=(e,s)=>{J(e),B(s),G(e)},Se=(e=>{let s=0;const i=e=>{s+=e.replies.length,e.replies.forEach(i)};return e.forEach(i),s})(Q),Ee=e=>{if("string"!==typeof e)return"Invalid date";const s=new Date(e);return isNaN(s.getTime())?"Invalid date":(0,r.Z)(s,{addSuffix:!0,locale:d.Z})},Le=async(s,i,l)=>{N||ie(!0);try{await c.Z.post("/api/post/create",{user_id:s,title:i,content:A,discussion_id:e,parent_post_id:Y,postCreatorName:l});const t=await c.Z.get("/api/discussions/".concat(e,"/posts")),n=t.data[0].replies||[];ee(n),T({}),B(""),G(null),X(t.data)}catch(t){console.error("Error submitting the reply:",t)}};return(0,H.jsxs)(H.Fragment,{children:[se&&(0,H.jsx)(m.Z,{onClick:()=>{ie((e=>!e))}}),ne.show&&(0,H.jsx)(M.Z,{type:ne.type,message:ne.message}),(0,H.jsxs)("div",{className:"discussion-container",children:[(0,H.jsx)(u.Z,{}),(0,H.jsxs)("div",{className:"forum-discussion-page-container",children:[(0,H.jsx)(p.Z,{onClick:ye,className:"sticky-filter-nav"}),(0,H.jsxs)("div",{className:"forum-discussion-page-container-col2",children:[(0,H.jsx)("div",{className:"language-selector-container",children:(0,H.jsx)(h.Z,{})}),(0,H.jsx)(Z.Z,{}),(0,H.jsx)(P.Z,{}),(0,H.jsx)("div",{className:"new-discussion-container",children:(0,H.jsx)(E.Z,{onClick:()=>{N?w("/forum/profile/".concat(N.id,"/add_discussions")):ie(!0)},label:"Start a discussion"})}),Q.map((e=>{var s,i,l,t,n,a,r;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"started-discussion-container",children:[(0,H.jsxs)("div",{className:"started-discussion-container-row1",children:[(0,H.jsxs)("div",{className:"started-discussion-info",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===e||void 0===e||null===(s=e.postCreator)||void 0===s?void 0:s.id,"/created_discussions"),children:(0,H.jsx)("img",{src:(null===e||void 0===e||null===(i=e.postCreator)||void 0===i?void 0:i.profile_pic)||k,alt:""})}),(0,H.jsxs)("div",{className:"started-forum-discussion-info",children:[(0,H.jsxs)("div",{className:"user-started-discussion",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===e||void 0===e||null===(l=e.postCreator)||void 0===l?void 0:l.id,"/created_discussions"),children:(null===e||void 0===e||null===(t=e.postCreator)||void 0===t?void 0:t.display_name)||"Unknown"}),(0,H.jsx)("span",{className:"started-discussion",children:"Started Discussion"})]}),(0,H.jsxs)("small",{children:["Posted: ",Ee(e.created_at)]})]})]}),(0,H.jsxs)("div",{className:"post-action-option",children:[(0,H.jsx)("div",{className:"three-dots",children:(0,H.jsx)(C.r,{onClick:()=>Ne(e.post_id)})}),le[e.post_id]&&(0,H.jsx)("div",{className:"three-dots-option",children:(0,H.jsx)("ul",{children:(0,H.jsxs)("li",{onClick:()=>be(e.post_id),children:[(0,H.jsx)("div",{className:"link-icon",children:(0,H.jsx)(_,{})}),(0,H.jsx)("span",{children:"Copy URL"})]})})})]})]}),!(null!==e&&void 0!==e&&e.parent_post_id)&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsxs)("div",{className:"started-discussion-container-row2",children:[(0,H.jsx)("label",{children:null===e||void 0===e||null===(n=e.discussion)||void 0===n?void 0:n.title}),(0,H.jsx)("div",{className:D[null===e||void 0===e?void 0:e.post_id]?"show-all-content":"show-less-content",dangerouslySetInnerHTML:{__html:null===e||void 0===e?void 0:e.content}}),(null===e||void 0===e?void 0:e.content.length)>340&&(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("button",{className:"toggle-content-btn",onClick:()=>we(null===e||void 0===e?void 0:e.post_id),children:D[null===e||void 0===e?void 0:e.post_id]?"Show less...":"Show more..."})})})]},null===e||void 0===e?void 0:e.post_id),(0,H.jsxs)("div",{className:"started-discussion-container-row3",children:[(0,H.jsxs)("div",{className:"view-reply-like-counter",children:[(0,H.jsxs)("div",{className:"like-counter",children:[(0,H.jsx)("button",{className:null!==e&&void 0!==e&&null!==(a=e.likes)&&void 0!==a&&a.some((e=>e.user_id===(null===N||void 0===N?void 0:N.id)))?"like-msg-icon-blue":"like-msg-icon",onClick:()=>{var s,i;return he(null===e||void 0===e?void 0:e.post_id,null===e||void 0===e?void 0:e.user_id,null===e||void 0===e||null===(s=e.discussion)||void 0===s?void 0:s.title,null===e||void 0===e||null===(i=e.postCreator)||void 0===i?void 0:i.display_name)},children:(0,H.jsx)(g.r,{})}),(0,H.jsxs)("span",{children:[(null===e||void 0===e||null===(r=e.likes)||void 0===r?void 0:r.length)||0," likes"]})]}),(0,H.jsxs)("div",{className:"reply-counter",children:[(0,H.jsx)("div",{className:"reply-msg-icon",children:(0,H.jsx)(f.r,{})}),(0,H.jsx)("span",{children:"".concat(Se,Se>1?" replies":" reply")})]}),(0,H.jsxs)("div",{className:"view-counter",children:[(0,H.jsx)("div",{className:"view-msg-icon",children:(0,H.jsx)(y.r,{})}),(0,H.jsxs)("span",{children:[e.views," views"]})]})]}),(0,H.jsx)(F,{label:"Reply",onClick:N?()=>_e(e.post_id):ye})]})]})]},null===e||void 0===e?void 0:e.post_id),b[e.post_id]&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(j.Z,{id:"replyLevelZero",name:"replyLevelZero",className:"new-reply-message",placeholder:"Type your reply here...",value:V===(null===e||void 0===e?void 0:e.post_id)?A:"",onChange:s=>Ze(null===e||void 0===e?void 0:e.post_id,s)}),(0,H.jsxs)("div",{className:"add-reply-button-container",children:[(0,H.jsx)(L.Z,{label:"Post Reply",onClick:()=>{var s,i;return Le(null===e||void 0===e?void 0:e.user_id,null===e||void 0===e||null===(s=e.discussion)||void 0===s?void 0:s.title,null===e||void 0===e||null===(i=e.postCreator)||void 0===i?void 0:i.display_name)}}),(0,H.jsx)(O.Z,{label:"Cancel",onClick:ke})]})]}),e.replies&&e.replies.length>0&&(0,H.jsxs)("div",{className:"filter-replies",children:[(0,H.jsx)("span",{className:"replies-counter",children:"".concat(Se,Se>1?" Replies":" Reply")}),(0,H.jsxs)("div",{className:"replies-sortby-container",style:{display:"flex"},children:[(0,H.jsx)("span",{style:{flexShrink:"0"},children:"Sort By:"}),(0,H.jsx)(S.Z,{data:ue,onOptionSelect:fe,className:"forum-sortby-dropdown-select"})]})]}),je.map((s=>{var i,l,t,n,a;return(0,H.jsx)(H.Fragment,{children:(0,H.jsx)("div",{id:s.post_id,className:"all-replies-container",children:(0,H.jsxs)("div",{className:"reply-container",children:[(0,H.jsxs)("div",{className:"reply-box",children:[(0,H.jsxs)("div",{className:"reply-row1",children:[(0,H.jsxs)("div",{className:"posted-reply-info",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===s||void 0===s||null===(i=s.postCreator)||void 0===i?void 0:i.id,"/created_discussions"),children:(0,H.jsx)("img",{src:(null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.profile_pic)||k,alt:""})}),(0,H.jsxs)("div",{className:"post-creator-info",children:[(0,H.jsxs)("div",{className:"user-started-discussion",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===s||void 0===s||null===(t=s.postCreator)||void 0===t?void 0:t.id,"/created_discussions"),children:s.postCreator.display_name}),(null===s||void 0===s||null===(n=s.postCreator)||void 0===n?void 0:n.id)===z?(0,H.jsx)(H.Fragment,{children:(0,H.jsx)("span",{className:"started-discussion",children:"Started Discussion"})}):null]}),(0,H.jsxs)("small",{children:["Posted: ",Ee(s.created_at)]})]})]}),(0,H.jsxs)("div",{className:"post-action-option",children:[(0,H.jsx)("div",{className:"three-dots",children:(0,H.jsx)(C.r,{onClick:()=>Ne(s.post_id)})}),le[s.post_id]&&(0,H.jsx)("div",{className:"three-dots-option",children:(0,H.jsx)("ul",{children:(0,H.jsxs)("li",{onClick:()=>be(s.post_id),children:[(0,H.jsx)("div",{className:"link-icon",children:(0,H.jsx)(_,{})}),(0,H.jsx)("span",{children:"Copy URL"})]})})})]})]}),(0,H.jsxs)("div",{className:"reply-row2",children:[(0,H.jsx)("div",{className:D[null===s||void 0===s?void 0:s.post_id]?"show-all-content":"show-less-content",dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.content}}),(null===s||void 0===s?void 0:s.content.length)>340&&(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("button",{className:"toggle-content-btn",onClick:()=>we(null===s||void 0===s?void 0:s.post_id),children:D[null===s||void 0===s?void 0:s.post_id]?"Show less...":"Show more..."})})})]}),(0,H.jsxs)("div",{className:"reply-row3",children:[(0,H.jsx)("div",{className:"view-reply-like-counter",children:(0,H.jsxs)("div",{className:"like-counter",children:[(0,H.jsx)("button",{className:s.likes.some((e=>e.user_id===(null===N||void 0===N?void 0:N.id)))?"like-msg-icon-blue":"like-msg-icon",onClick:()=>{var i,l;return he(null===s||void 0===s?void 0:s.post_id,null===s||void 0===s?void 0:s.user_id,null===e||void 0===e||null===(i=e.discussion)||void 0===i?void 0:i.title,null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.display_name)},children:(0,H.jsx)(g.r,{})}),(0,H.jsxs)("span",{children:[(null===s||void 0===s||null===(a=s.likes)||void 0===a?void 0:a.length)||0," likes"]})]})}),(0,H.jsx)(F,{label:"Reply",onClick:N?()=>_e(s.post_id):ye})]})]}),b[s.post_id]&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(j.Z,{id:"replyLevelOne",name:"replyLevelOne",className:"new-reply-message",placeholder:"Type your reply here...",value:V===(null===s||void 0===s?void 0:s.post_id)?A:"",onChange:e=>Ze(null===s||void 0===s?void 0:s.post_id,e)}),(0,H.jsxs)("div",{className:"add-reply-button-container",children:[(0,H.jsx)(L.Z,{label:"Post Reply",onClick:()=>{var i,l;return Le(null===s||void 0===s?void 0:s.user_id,null===e||void 0===e||null===(i=e.discussion)||void 0===i?void 0:i.title,null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.display_name)}}),(0,H.jsx)(O.Z,{label:"Cancel",onClick:ke})]})]}),(0,H.jsx)("div",{className:"toggle-hide-show-replies",children:0===s.replies.length?"":(0,H.jsx)(H.Fragment,{children:U[null===s||void 0===s?void 0:s.post_id]?(0,H.jsx)("button",{className:"hide-replies-btn",onClick:()=>Ce(null===s||void 0===s?void 0:s.post_id),children:s.replies.length>1?"Hide replies":"Hide reply"}):(0,H.jsxs)("button",{className:"show-replies-btn",onClick:()=>Ce(null===s||void 0===s?void 0:s.post_id),children:["Show ",s.replies.length>1?"".concat(s.replies.length," replies"):"".concat(s.replies.length," reply")]})})}),U[null===s||void 0===s?void 0:s.post_id]&&(0,H.jsx)(H.Fragment,{children:s.replies.map((s=>{var i,l,t,n,a;return(0,H.jsxs)("div",{id:s.post_id,className:"level2-replies-container",children:[(0,H.jsxs)("div",{className:"reply-box",children:[(0,H.jsxs)("div",{className:"reply-row1",children:[(0,H.jsxs)("div",{className:"posted-reply-info",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===s||void 0===s||null===(i=s.postCreator)||void 0===i?void 0:i.id,"/created_discussions"),children:(0,H.jsx)("img",{src:(null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.profile_pic)||k,alt:""})}),(0,H.jsxs)("div",{className:"post-creator-info",children:[(0,H.jsxs)("div",{className:"user-started-discussion",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===s||void 0===s||null===(t=s.postCreator)||void 0===t?void 0:t.id,"/created_discussions"),children:s.postCreator.display_name}),(null===s||void 0===s||null===(n=s.postCreator)||void 0===n?void 0:n.id)===z?(0,H.jsx)(H.Fragment,{children:(0,H.jsx)("span",{className:"started-discussion",children:"Started Discussion"})}):null]}),(0,H.jsxs)("small",{children:["Posted: ",Ee(s.created_at)]})]})]}),(0,H.jsxs)("div",{className:"post-action-option",children:[(0,H.jsx)("div",{className:"three-dots",children:(0,H.jsx)(C.r,{onClick:()=>Ne(s.post_id)})}),le[s.post_id]&&(0,H.jsx)("div",{className:"three-dots-option",children:(0,H.jsx)("ul",{children:(0,H.jsxs)("li",{onClick:()=>be(s.post_id),children:[(0,H.jsx)("div",{className:"link-icon",children:(0,H.jsx)(_,{})}),(0,H.jsx)("span",{children:"Copy URL"})]})})})]})]}),(0,H.jsxs)("div",{className:"reply-row2",children:[(0,H.jsx)("div",{className:D[null===s||void 0===s?void 0:s.post_id]?"show-all-content":"show-less-content",dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.content}}),(null===s||void 0===s?void 0:s.content.length)>340&&(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("button",{className:"toggle-content-btn",onClick:()=>we(null===s||void 0===s?void 0:s.post_id),children:D[null===s||void 0===s?void 0:s.post_id]?"Show less...":"Show more..."})})})]}),(0,H.jsxs)("div",{className:"reply-row3",children:[(0,H.jsx)("div",{className:"view-reply-like-counter",children:(0,H.jsxs)("div",{className:"like-counter",children:[(0,H.jsx)("button",{className:s.likes.some((e=>e.user_id===(null===N||void 0===N?void 0:N.id)))?"like-msg-icon-blue":"like-msg-icon",onClick:()=>{var i,l;return he(null===s||void 0===s?void 0:s.post_id,null===s||void 0===s?void 0:s.user_id,null===e||void 0===e||null===(i=e.discussion)||void 0===i?void 0:i.title,null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.display_name)},children:(0,H.jsx)(g.r,{})}),(0,H.jsxs)("span",{children:[(null===s||void 0===s||null===(a=s.likes)||void 0===a?void 0:a.length)||0," likes"]})]})}),(0,H.jsx)(F,{label:"Reply",onClick:N?()=>_e(s.post_id):ye})]})]}),b[s.post_id]&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(j.Z,{id:"replyLevelTwo",name:"replyLevelTwo",className:"new-reply-message",placeholder:"Type your reply here...",value:V===(null===s||void 0===s?void 0:s.post_id)?A:"",onChange:e=>Ze(null===s||void 0===s?void 0:s.post_id,e)}),(0,H.jsxs)("div",{className:"add-reply-button-container",children:[(0,H.jsx)(L.Z,{label:"Post Reply",onClick:()=>{var i,l;return Le(null===s||void 0===s?void 0:s.user_id,null===e||void 0===e||null===(i=e.discussion)||void 0===i?void 0:i.title,null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.display_name)}}),(0,H.jsx)(O.Z,{label:"Cancel",onClick:ke})]})]}),(0,H.jsx)("div",{className:"toggle-hide-show-replies",children:0===s.replies.length?"":(0,H.jsx)(H.Fragment,{children:U[null===s||void 0===s?void 0:s.post_id]?(0,H.jsx)("button",{className:"hide-replies-btn",onClick:()=>Ce(null===s||void 0===s?void 0:s.post_id),children:s.replies.length>1?"Hide replies":"Hide reply"}):(0,H.jsxs)("button",{className:"show-replies-btn",onClick:()=>Ce(null===s||void 0===s?void 0:s.post_id),children:["Show ",s.replies.length>1?"".concat(s.replies.length," replies"):"".concat(s.replies.length," reply")]})})}),U[null===s||void 0===s?void 0:s.post_id]&&(0,H.jsx)(H.Fragment,{children:s.replies.map((s=>{var i,l,t,n,a;return(0,H.jsxs)("div",{id:s.post_id,className:"level2-replies-container last-reply-container",children:[(0,H.jsxs)("div",{className:"reply-box",children:[(0,H.jsxs)("div",{className:"reply-row1",children:[(0,H.jsxs)("div",{className:"posted-reply-info",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===s||void 0===s||null===(i=s.postCreator)||void 0===i?void 0:i.id,"/created_discussions"),children:(0,H.jsx)("img",{src:(null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.profile_pic)||k,alt:""})}),(0,H.jsxs)("div",{className:"post-creator-info",children:[(0,H.jsxs)("div",{className:"user-started-discussion",children:[(0,H.jsx)(o.rU,{to:"/forum/profile/".concat(null===s||void 0===s||null===(t=s.postCreator)||void 0===t?void 0:t.id,"/created_discussions"),children:s.postCreator.display_name}),(null===s||void 0===s||null===(n=s.postCreator)||void 0===n?void 0:n.id)===z?(0,H.jsx)(H.Fragment,{children:(0,H.jsx)("span",{className:"started-discussion",children:"Started Discussion"})}):null]}),(0,H.jsxs)("small",{children:["Posted: ",Ee(s.created_at)]})]})]}),(0,H.jsxs)("div",{className:"post-action-option",children:[(0,H.jsx)("div",{className:"three-dots",children:(0,H.jsx)(C.r,{onClick:()=>Ne(s.post_id)})}),le[s.post_id]&&(0,H.jsx)("div",{className:"three-dots-option",children:(0,H.jsx)("ul",{children:(0,H.jsxs)("li",{onClick:()=>be(s.post_id),children:[(0,H.jsx)("div",{className:"link-icon",children:(0,H.jsx)(_,{})}),(0,H.jsx)("span",{children:"Copy URL"})]})})})]})]}),(0,H.jsx)("div",{className:"parent-post-container",children:(0,H.jsxs)("div",{className:"parent-post-container-row1",children:[(0,H.jsxs)(o.rU,{children:[s.parentPostCreator.display_name," said:"]}),(0,H.jsx)("div",{dangerouslySetInnerHTML:{__html:s.parentPostContent}})]})}),(0,H.jsxs)("div",{className:"reply-row2",children:[(0,H.jsx)("div",{className:D[null===s||void 0===s?void 0:s.post_id]?"show-all-content":"show-less-content",dangerouslySetInnerHTML:{__html:null===s||void 0===s?void 0:s.content}}),(null===s||void 0===s?void 0:s.content.length)>340&&(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("div",{style:{textAlign:"center"},children:(0,H.jsx)("button",{className:"toggle-content-btn",onClick:()=>we(null===s||void 0===s?void 0:s.post_id),children:D[null===s||void 0===s?void 0:s.post_id]?"Show less...":"Show more..."})})})]}),(0,H.jsxs)("div",{className:"reply-row3",children:[(0,H.jsx)("div",{className:"view-reply-like-counter",children:(0,H.jsxs)("div",{className:"like-counter",children:[(0,H.jsx)("button",{className:s.likes.some((e=>e.user_id===(null===N||void 0===N?void 0:N.id)))?"like-msg-icon-blue":"like-msg-icon",onClick:()=>{var i,l;return he(null===s||void 0===s?void 0:s.post_id,null===s||void 0===s?void 0:s.user_id,null===e||void 0===e||null===(i=e.discussion)||void 0===i?void 0:i.title,null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.display_name)},children:(0,H.jsx)(g.r,{})}),(0,H.jsxs)("span",{children:[(null===s||void 0===s||null===(a=s.likes)||void 0===a?void 0:a.length)||0," likes"]})]})}),(0,H.jsx)(F,{label:"Reply",onClick:N?()=>_e(s.post_id):ye})]})]}),b[null===s||void 0===s?void 0:s.post_id]&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(j.Z,{id:"replyLevelThree",name:"replyLevelThree",className:"new-reply-message",placeholder:"Type your reply here...",value:V===(null===s||void 0===s?void 0:s.post_id)?A:"",onChange:e=>Ze(null===s||void 0===s?void 0:s.post_id,e)}),(0,H.jsxs)("div",{className:"add-reply-button-container",children:[(0,H.jsx)(L.Z,{label:"Post Reply",onClick:()=>{var i,l;return Le(null===s||void 0===s?void 0:s.user_id,null===e||void 0===e||null===(i=e.discussion)||void 0===i?void 0:i.title,null===s||void 0===s||null===(l=s.postCreator)||void 0===l?void 0:l.display_name)}}),(0,H.jsx)(O.Z,{label:"Cancel",onClick:ke})]})]})]},s.post_id)}))})]},s.post_id)}))})]})},s.post_id)})}))]})}))]})]}),(0,H.jsx)(v.Z,{className:"forum-discussion-page-footer"})]})]})}},7385:(e,s,i)=>{i.d(s,{l:()=>n});var l=i(672),t=i(2892);const n=()=>async e=>{try{const s=await t.Z.get("/api/fetchforumtags");if(200===s.status){const i=s.data;e((0,l.mG)(i))}}catch(s){console.error("Error fetching forum tags:",s),e((0,l.sT)("Error fetching forum tags."))}}}}]);
//# sourceMappingURL=3110.28cef7dd.chunk.js.map