"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[7136],{7136:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var n=a(2791),o=a(1087),i=a(9434),r=a(2892),c=(a(1055),a(1632)),t=a(9806),l=a(1757),d=a(3472),h=a(5167),u=a(10),m=a(3615),x=a(1650),j=a(9915),p=a(9401),v=a(3607),f=a(184);const N=/^\d{10}$/,g=/^.{8,24}$/,w=()=>{const[e,s]=(0,n.useState)(!1),a=(0,n.useRef)(),[w,b]=(0,n.useState)(""),[y,C]=(0,n.useState)(!1);console.log("validPhone:",y);const[S,k]=(0,n.useState)(!1),[E,G]=(0,n.useState)(""),[P,F]=(0,n.useState)(!1),[Z,B]=(0,n.useState)(""),[I,L]=(0,n.useState)(!1),[U,q]=(0,n.useState)(!1),[A,R]=(0,n.useState)(""),[_,T]=(0,n.useState)(!1),[z,D]=(0,n.useState)(!1),[M,V]=(0,n.useState)(""),[$,O]=(0,n.useState)(!1),[Y,H]=(0,n.useState)(0),[J,K]=(0,n.useState)(!1),[Q,W]=(0,n.useState)(!1),X=(0,i.I0)();(0,n.useEffect)((()=>{const e=N.test(w);C(e)}),[w]),(0,n.useEffect)((()=>{const e=g.test(Z);console.log(e),console.log(Z),L(e);T(Z===A)}),[Z,A]),(0,n.useEffect)((()=>{V("")}),[Z,A]),(0,n.useEffect)((()=>{F(E.length>0)}),[E]),(0,n.useEffect)((()=>{if(Y>0){const e=setTimeout((()=>{H(Y-1)}),1e3);return()=>clearTimeout(e)}}),[Y]);const[ee,se]=(0,n.useState)({phone:"",password:"",otp:""}),ae=e=>{const{name:s,value:a}=e.target;se({...ee,[s]:a})};return(0,f.jsxs)(f.Fragment,{children:[$&&(0,f.jsx)(d.Z,{onClick:()=>{console.log("Navigating to LoginPhone"),window.location.href="/LoginPhone"}}),(0,f.jsxs)(f.Fragment,{children:[e&&(0,f.jsx)(v.Z,{type:"error",message:M}),(0,f.jsxs)("div",{className:"register-form-container",children:[(0,f.jsxs)("form",{className:"register-form",onSubmit:async e=>{e.preventDefault();const n=N.test(w),o=g.test(Z);if(n&&o){try{X((0,l.P)(!0));201===(await r.Z.post("/api/phone-register",ee)).status&&(X((0,l.P)(!1)),O(!0),b(""),B(""),R(""),G(""))}catch(i){X((0,l.P)(!1));let e="An error occurred during registration";if(i.response)switch(i.response.status){case 409:e="Account already exists for this phone number.";break;case 401:e="Invalid or expired verification code.";break;case 404:e="Invalid verification code.";break;default:console.error("Error:",i)}else console.error("Error:",i);O(!1),V(e),s(!0)}a.current&&a.current.focus()}else V("Invalid Entry")},children:[(0,f.jsxs)("div",{className:"row1",children:[(0,f.jsx)("div",{className:"col1",children:(0,f.jsx)(o.rU,{to:"/",children:(0,f.jsx)("img",{src:h,alt:"",className:"auth-form-logo"})})}),(0,f.jsx)("div",{className:"col2",children:(0,f.jsx)("h4",{children:"Create an account"})})]}),(0,f.jsxs)("div",{className:"row2",children:[(0,f.jsxs)("div",{className:"col1 input-container",children:[(0,f.jsxs)("div",{className:"row1",children:[(0,f.jsxs)("label",{htmlFor:"phoneNumber",children:["Phone Number",(0,f.jsx)(t.G,{icon:c.LEp,className:y?"valid":"hide"}),(0,f.jsx)(t.G,{icon:c.NBC,className:y||!w?"hide":"invalid"})]}),(0,f.jsx)(o.rU,{to:"/RegisterByEmail",children:"Verify with email"})]}),(0,f.jsxs)("div",{className:"row2",children:[(0,f.jsx)("input",{type:"number",id:"phoneNumber",name:"phone",value:w,placeholder:"Enter your phone number",className:"phone-number",onChange:e=>{b(e.target.value),ae(e)},onFocus:()=>k(!0),onBlur:()=>k(!1),"aria-invalid":y?"false":"true","aria-describedby":"uidnote",required:!0}),(0,f.jsxs)("p",{id:"uidnote",className:S&&w&&!y?"instructions":"offscreen",children:[(0,f.jsx)(t.G,{icon:c.sqG,color:"red"}),(0,f.jsx)("span",{children:" Phone number format must be 10 digits"})]}),(0,f.jsx)("div",{className:"plus63",children:"+63"})]})]}),(0,f.jsxs)("div",{className:"col2 input-container",children:[(0,f.jsx)("div",{className:"row1",children:(0,f.jsx)("b",{children:"Verification Code"})}),(0,f.jsxs)("div",{className:"row2",children:[(0,f.jsx)("input",{type:"text",placeholder:"Enter the verification code",name:"otp",value:E,onChange:e=>{G(e.target.value),ae(e)}}),Y>0&&(0,f.jsx)("div",{className:"instructions",children:(0,f.jsxs)("span",{children:["OTP sent to your phone number expires in: ",Y,"s"]})}),J?(0,f.jsx)("div",{className:"send-otp-spinner",children:(0,f.jsx)(p.r,{})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(m.Z,{type:"button",label:Q?"Resend Code":"Send Code",onClick:async e=>{e.preventDefault();try{s(!1),K(!0);201===(await r.Z.post("/api/send-phone-registration-otp",ee)).status&&(K(!1),W(!0),H(120))}catch(a){409===a.response.status&&(V("Account already exists for this phone number."),O(!1),K(!1),s(!0))}},className:"send-code",disabled:!y||Y})})]})]})]}),(0,f.jsxs)("div",{className:"row3",children:[(0,f.jsxs)("div",{className:"col1 input-container",children:[(0,f.jsx)("div",{className:"row1",children:(0,f.jsxs)("label",{htmlFor:"password",children:["Password",(0,f.jsx)(t.G,{icon:c.LEp,className:I?"valid":"hide"}),(0,f.jsx)(t.G,{icon:c.NBC,className:I||!Z?"hide":"invalid"})]})}),(0,f.jsxs)("div",{className:"row2",children:[(0,f.jsx)("input",{type:"password",id:"password",name:"password",onChange:e=>{B(e.target.value),ae(e)},value:Z,"aria-invalid":I?"false":"true","aria-describedby":"pwdnote",onFocus:()=>q(!0),onBlur:()=>q(!1),placeholder:"Enter your password"}),(0,f.jsxs)("p",{id:"pwdnote",className:U&&!I?"instructions":"offscreen",children:[(0,f.jsx)(t.G,{icon:c.sqG}),(0,f.jsx)("span",{children:" Must be 8 to 24 characters."})]})]})]}),(0,f.jsxs)("div",{className:"col2 input-container",children:[(0,f.jsx)("div",{className:"row1",children:(0,f.jsxs)("label",{htmlFor:"confirm_pwd",children:["Confirm Password",(0,f.jsx)(t.G,{icon:c.LEp,className:_&&A?"valid":"hide"}),(0,f.jsx)(t.G,{icon:c.NBC,className:_||!A?"hide":"invalid"})]})}),(0,f.jsxs)("div",{className:"row2",children:[(0,f.jsx)("input",{type:"password",id:"confirm_pwd",onChange:e=>R(e.target.value),value:A,"aria-invalid":_?"false":"true","aria-describedby":"confirmnote",onFocus:()=>D(!0),onBlur:()=>D(!1),placeholder:"Re-enter your password"}),(0,f.jsxs)("p",{id:"confirmnote",className:z&&!_?"instructions":"offscreen",children:[(0,f.jsx)(t.G,{icon:c.sqG}),(0,f.jsx)("span",{children:" Must match the first password input field."})]})]})]})]}),(0,f.jsx)("div",{className:"row4",children:(0,f.jsx)(u.Z,{onClick:()=>s(!1),label:"Continue",className:"reset-pswrd-btn",disabled:!y||!P||!I||!_})})]}),(0,f.jsxs)("div",{className:"row5",children:[(0,f.jsx)("div",{className:"horizontal-line"}),(0,f.jsx)("small",{children:"or"}),(0,f.jsx)("div",{className:"horizontal-line"})]}),(0,f.jsx)("div",{className:"row6",children:(0,f.jsx)(u.Z,{icon:(0,f.jsx)(x.r,{}),label:"Continue with Facebook",className:"facebook-btn",IconclassName:"fb-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/facebook/callback");window.open(e,"_self")}})}),(0,f.jsx)("div",{className:"row7",children:(0,f.jsx)(u.Z,{icon:(0,f.jsx)(j.r,{}),label:"Continue with Google",className:"google-btn",IconclassName:"google-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/google");window.open(e,"_self")}})}),(0,f.jsx)("div",{className:"row8",children:(0,f.jsxs)("small",{children:["By continuing, you agree to Yogeek ",(0,f.jsx)(o.rU,{to:"#",children:"Conditions of Use"})," and ",(0,f.jsx)(o.rU,{to:"#",children:"Privacy Notice"}),"."]})}),(0,f.jsx)("div",{className:"row9",children:(0,f.jsxs)("small",{children:["Already have an account? ",(0,f.jsx)(o.rU,{to:"/LoginEmail",children:"Sign in here!"})]})})]})]})]})};var b=a(1938);a(9006);const y=()=>(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"form-body",children:[(0,f.jsx)("div",{className:"container",children:(0,f.jsx)("div",{className:"form-box",children:(0,f.jsx)(w,{})})}),(0,f.jsx)(b.Z,{})]})})}}]);
//# sourceMappingURL=7136.c8031d48.chunk.js.map