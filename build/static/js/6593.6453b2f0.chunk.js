"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[6593],{2267:(e,t,s)=>{s.d(t,{r:()=>i});var n,a=s(2791);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},c.apply(this,arguments)}function l(e,t){let{title:s,titleId:l,...i}=e;return a.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",ref:t,"aria-labelledby":l},i),s?a.createElement("title",{id:l},s):null,n||(n=a.createElement("path",{d:"M225.8 468.2l-2.5-2.3L48.1 303.2C17.4 274.7 0 234.7 0 192.8v-3.3c0-70.4 50-130.8 119.2-144C158.6 37.9 198.9 47 231 69.6c9 6.4 17.4 13.8 25 22.3c4.2-4.8 8.7-9.2 13.5-13.3c3.7-3.2 7.5-6.2 11.5-9c0 0 0 0 0 0C313.1 47 353.4 37.9 392.8 45.4C462 58.6 512 119.1 512 189.5v3.3c0 41.9-17.4 81.9-48.1 110.4L288.7 465.9l-2.5 2.3c-8.2 7.6-19 11.9-30.2 11.9s-22-4.2-30.2-11.9zM239.1 145c-.4-.3-.7-.7-1-1.1l-17.8-20c0 0-.1-.1-.1-.1c0 0 0 0 0 0c-23.1-25.9-58-37.7-92-31.2C81.6 101.5 48 142.1 48 189.5v3.3c0 28.5 11.9 55.8 32.8 75.2L256 430.7 431.2 268c20.9-19.4 32.8-46.7 32.8-75.2v-3.3c0-47.3-33.6-88-80.1-96.9c-34-6.5-69 5.4-92 31.2c0 0 0 0-.1 .1s0 0-.1 .1l-17.8 20c-.3 .4-.7 .7-1 1.1c-4.5 4.5-10.6 7-16.9 7s-12.4-2.5-16.9-7z"})))}const i=a.forwardRef(l);s.p},6593:(e,t,s)=>{s.d(t,{Z:()=>de});var n,a=s(2791),c=s(7689),l=s(1087),i=s(9434),r=(s(7857),s(2267));function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},o.apply(this,arguments)}function d(e,t){let{title:s,titleId:c,...l}=e;return a.createElement("svg",o({viewBox:"0 0 83 83",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},l),s?a.createElement("title",{id:c},s):null,n||(n=a.createElement("path",{d:"M63.4905 24.5682H79.3808C81.5099 29.3019 82.7819 34.4871 83 39.9641H64.7686C64.6918 34.1768 64.2125 29.0776 63.4905 24.5682ZM56.5469 2.78305C65.6626 6.32483 73.1438 13.0275 77.8323 21.4903H62.9743C61.2876 12.8739 58.7252 6.74874 56.5469 2.78305ZM43.2436 21.4903V0C46.5187 0.144375 49.7017 0.663509 52.7433 1.5144C55.0476 5.39408 58.0247 11.8725 59.9019 21.4903H43.2436ZM23.0305 58.4379C22.3115 53.9254 21.8138 48.857 21.737 43.042H40.1651V58.4379H23.0305ZM22.9997 24.5682H40.1651V39.9641H21.7186C21.7954 34.1707 22.2808 29.0807 22.9997 24.5682ZM30.7083 1.44682C33.7407 0.629719 36.8991 0.110585 40.1651 0.00614388V21.4903H23.5067C25.3962 11.8203 28.3948 5.31728 30.7083 1.44682ZM5.12471 21.4903C9.88995 12.8893 17.6047 6.15281 26.9262 2.65711C24.7295 6.61973 22.1364 12.7787 20.4312 21.4903H5.12471ZM18.6401 39.9641H0.0215065C0.224283 34.4932 1.4563 29.2927 3.57931 24.5682H19.912C19.1962 29.0807 18.7138 34.1768 18.6401 39.9641ZM19.952 58.4379H3.69913C1.56691 53.6981 0.199704 48.5344 0 43.042H18.6523C18.7261 48.857 19.2299 53.9193 19.952 58.4379ZM20.4558 61.5158C22.1733 70.3135 24.8063 76.4663 27.0123 80.3828C17.6569 76.9025 9.93911 70.1384 5.16772 61.5158H20.4558ZM40.1651 61.5158V83C36.9329 82.8986 33.8145 82.3887 30.8097 81.587C28.4901 77.7902 25.4761 71.2565 23.5712 61.5158H40.1651ZM59.8436 61.5158C57.9479 71.1981 54.9524 77.7073 52.6419 81.5194C49.6341 82.3518 46.4788 82.8034 43.2436 82.9478V61.5158H59.8436ZM43.2436 43.042H61.6716C61.601 48.857 61.094 53.9224 60.3751 58.4379H43.2436V43.042ZM61.6901 39.9641H43.2436V24.5682H60.4058C61.1278 29.0807 61.6133 34.1707 61.6901 39.9641ZM64.7563 43.042H82.9631C82.7604 48.5313 81.4085 53.695 79.2855 58.4379H63.4567C64.1756 53.9193 64.6795 48.857 64.7563 43.042ZM77.8077 61.5158C73.1346 70.0124 65.6196 76.7182 56.464 80.2538C58.6607 76.3342 61.2599 70.2213 62.9559 61.5158H77.8077Z"})))}const u=a.forwardRef(d);s.p;var h,m=s(2274);function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},g.apply(this,arguments)}function x(e,t){let{title:s,titleId:n,...c}=e;return a.createElement("svg",g({viewBox:"0 0 76 113",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),s?a.createElement("title",{id:n},s):null,h||(h=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.6667 0C58.4694 0 75.3333 16.8639 75.3333 37.6667C75.3333 44.5283 73.5038 50.9576 70.2929 56.5022C68.1524 60.1986 57.2769 79.0312 37.6667 113C18.0564 79.0312 7.18097 60.1986 5.04039 56.5022C1.82952 50.9576 0 44.5283 0 37.6667C0 16.8639 16.8639 0 37.6667 0ZM37.6667 21.5238C28.7512 21.5238 21.5238 28.7512 21.5238 37.6667C21.5238 46.5821 28.7512 53.8095 37.6667 53.8095C46.5821 53.8095 53.8095 46.5821 53.8095 37.6667C53.8095 28.7512 46.5821 21.5238 37.6667 21.5238Z"})))}const j=a.forwardRef(x);s.p;var v,p=s(5167),f=s(7148);function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},C.apply(this,arguments)}function N(e,t){let{title:s,titleId:n,...c}=e;return a.createElement("svg",C({viewBox:"0 0 85 113",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),s?a.createElement("title",{id:n},s):null,v||(v=a.createElement("path",{d:"M42.9038 0C19.674 0 0 19.7297 0 43.0967C0 67.569 22.8048 92.5958 38.1438 110.186C38.204 110.256 40.6831 113 43.736 113H44.0052C47.0617 113 49.5231 110.256 49.5833 110.186C63.9767 93.687 85 66.4779 85 43.0967C85 19.7262 69.654 0 42.9038 0ZM44.324 105.446C44.2 105.57 44.0194 105.708 43.86 105.824C43.6971 105.711 43.52 105.57 43.389 105.446L41.5367 103.321C26.9946 86.6878 7.07979 63.907 7.07979 43.0932C7.07979 23.5577 23.4848 7.05566 42.9002 7.05566C67.0863 7.05566 77.9131 25.1539 77.9131 43.0932C77.9131 58.8925 66.6117 79.8758 44.324 105.446ZM42.624 21.3824C30.8904 21.3824 21.374 30.8676 21.374 42.5705C21.374 54.2735 30.8904 63.7587 42.624 63.7587C54.3575 63.7587 63.874 54.2699 63.874 42.5705C63.874 30.8712 54.361 21.3824 42.624 21.3824ZM42.624 56.696C34.811 56.696 28.2944 50.2053 28.2944 42.4152C28.2944 34.625 34.6481 28.2897 42.461 28.2897C50.2775 28.2897 56.6277 34.625 56.6277 42.4152C56.6313 50.2053 50.4404 56.696 42.624 56.696Z"})))}const y=a.forwardRef(N);s.p;var b,w=s(7057);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},E.apply(this,arguments)}function S(e,t){let{title:s,titleId:n,...c}=e;return a.createElement("svg",E({viewBox:"0 0 121 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),s?a.createElement("title",{id:n},s):null,b||(b=a.createElement("path",{d:"M104.444 60.5C104.444 84.7699 84.7699 104.444 60.5 104.444M104.444 60.5C104.444 36.2302 84.7699 16.5556 60.5 16.5556M104.444 60.5H117M60.5 104.444C36.2302 104.444 16.5556 84.7699 16.5556 60.5M60.5 104.444V117M60.5 16.5556C36.2302 16.5556 16.5556 36.2302 16.5556 60.5M60.5 16.5556V4M16.5556 60.5H4M79.3333 60.5C79.3333 70.9016 70.9016 79.3333 60.5 79.3333C50.0983 79.3333 41.6667 70.9016 41.6667 60.5C41.6667 50.0983 50.0983 41.6667 60.5 41.6667C70.9016 41.6667 79.3333 50.0983 79.3333 60.5Z",strokeWidth:7,strokeLinecap:"round",strokeLinejoin:"round"})))}const k=a.forwardRef(S);s.p;var M=s(7678),O=s(929),I=s(8052),Z=s(8150),H=s(6983),L=s(3607),R=s(184);const A=e=>{let{radius:t,placeName:s,setPlaceName:n}=e;const l=(0,c.TH)(),i=new URLSearchParams(l.search),[r,o]=(0,a.useState)(!1),[d,u]=(0,a.useState)(i.get("location")||"All of the Philippines"),[h,m]=(0,a.useState)([]),[g,x]=(0,a.useState)([]),[j,v]=(0,a.useState)({}),p=(0,a.useRef)(null),[C,N]=(0,a.useState)(i.get("keyword")||""),[b,E]=(0,a.useState)(""),[S,A]=(0,a.useState)(null),[P,U]=(0,a.useState)(null),[_,F]=(0,a.useState)(!1),[V,T]=(0,a.useState)(""),B=(0,c.s0)();(0,a.useEffect)((()=>{"Listings Nearby"===d&&navigator.geolocation.getCurrentPosition((e=>{A(e.coords.latitude),U(e.coords.longitude)}))}),[]);const D=()=>{const e=new URLSearchParams;S&&P?(e.append("latitude",S),e.append("longitude",P),e.append("radius",t),B("/search-results?keyword=".concat(C,"&location=").concat(encodeURIComponent(b),"&latitude=").concat(S,"&longitude=").concat(P,"&radius=").concat(t))):B("/search-results?keyword=".concat(C,"&location=").concat(encodeURIComponent(b)))},z=(e,t)=>{F(!1),v((e=>({...e,[t]:!e[t]})));const s=b,a=d;"Listings Nearby"===e||"All of the Philippines"===e?(m([]),x([]),u(e),v({}),"Listings Nearby"===e?navigator.geolocation.getCurrentPosition((e=>{A(e.coords.latitude),U(e.coords.longitude),(async(e,t)=>{const s="https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(t,"&key=").concat("AIzaSyAD0gvXI_xnuEJPiFdKx_143uA6YMr-bNM");try{const e=await fetch(s),t=await e.json();if("OK"===t.status){const e=t.results[0].address_components[1].long_name,s=t.results[0].address_components[2].long_name;n("".concat(e,", ").concat(s))}else console.error("Geocoding error:",t.status)}catch(a){console.error("Fetch error:",a)}})(e.coords.latitude,e.coords.longitude)}),(e=>{switch(e.code){case e.PERMISSION_DENIED:T("You denied Yogeek to use your current location.");break;case e.POSITION_UNAVAILABLE:T("Location information is unavailable.");break;case e.TIMEOUT:T("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:T("An unknown error occurred.")}E(s),u(a),F(!0)})):(A(null),U(null))):g.includes(t)?x((e=>e.filter((e=>e!==t)))):x((e=>[...e,t])),o(!0)},Y=e=>{const t=e.target.value;m(t),x("")};return(0,a.useEffect)((()=>{const e=e=>{p.current&&!p.current.contains(e.target)&&o(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,a.useEffect)((()=>{E(g.length>0?g.join(" | "):h.length>0?h:d)}),[g,h,d]),(0,R.jsxs)(R.Fragment,{children:[_&&(0,R.jsx)(L.Z,{type:"error",message:V,className:"alert-box"}),(0,R.jsxs)("div",{className:"search-container",children:[(0,R.jsx)("div",{className:"search-box",children:(0,R.jsx)("input",{type:"text",placeholder:"Search for an item...",value:C,onKeyDown:e=>{"Enter"===e.key&&D()},onChange:e=>N(e.target.value)})}),(0,R.jsxs)("div",{className:"filter-box",ref:p,children:[(0,R.jsx)("input",{type:"text",id:"filterBox",placeholder:"All of the Philippines",value:b,onFocus:()=>{o(!0)},onChange:e=>E(e.target.value),readOnly:!0}),"Listings Nearby"===b?(0,R.jsx)("div",{className:"nearby-icon",children:(0,R.jsx)(k,{})}):(0,R.jsx)("div",{className:"location-icon",children:(0,R.jsx)(y,{})}),(0,R.jsx)("button",{onClick:D,children:(0,R.jsx)("div",{className:"magnifying-glass",children:(0,R.jsx)(w.r,{})})}),r&&(0,R.jsxs)("div",{className:"filter-list-option",children:[(0,R.jsx)("small",{children:"Search by:"}),(0,R.jsx)("p",{className:"selected-region",children:h}),h.length>0&&(0,R.jsx)("div",{className:"selected-city-container",children:g.length>0?g.map(((e,t)=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"selected-city",children:[e,(0,R.jsx)("div",{className:"close-btn",onClick:()=>{return s=t,n=e,v((e=>({...e,[n]:!1}))),x((e=>e.filter(((e,t)=>t!==s)))),void o(!0);var s,n},children:(0,R.jsx)("i",{className:"fa fa-times"})})]},t),g.length>1&&t===g.length-1&&(0,R.jsx)("div",{className:"reset-selected-cities",onClick:()=>(x([]),v({}),void o(!0)),children:"Reset"})]}))):(0,R.jsx)("p",{className:"please-choose-city",children:"No city selected"})}),(0,R.jsxs)("ul",{children:[(0,R.jsx)("li",{onClick:()=>z("Listings Nearby"),children:(0,R.jsxs)("div",{className:"icon",children:[(0,R.jsx)("img",{src:M,alt:""}),"Listings Nearby"]})}),(0,R.jsx)("li",{onClick:()=>z("All of the Philippines"),children:(0,R.jsxs)("div",{className:"icon",children:[(0,R.jsx)("img",{src:O,alt:""}),"All of the Philippines"]})}),(0,R.jsxs)("li",{className:"region",children:[(0,R.jsxs)("div",{className:"icon",children:[(0,R.jsx)("img",{src:I,alt:""}),"Region"]}),(0,R.jsx)("i",{className:"fa fa-angle-right"}),(0,R.jsx)("ul",{className:"region-list",children:Object.keys(H).map((e=>(0,R.jsx)("li",{value:e,onClick:()=>(e=>{m(e),x([]),v({})})(e),onChange:Y,style:{background:h===e?"var(--gray-200)":"initial"},children:e},e)))})]}),h.length>0&&(0,R.jsxs)("li",{className:"city",children:[(0,R.jsxs)("div",{className:"icon",children:[(0,R.jsx)("img",{src:Z,alt:""}),"City"]}),(0,R.jsx)("i",{className:"fa fa-angle-right"}),(0,R.jsx)("ul",{className:"city-list",children:h&&H[h]&&Object.keys(H[h]).map((e=>(0,R.jsx)("li",{children:(0,R.jsx)(f.Z,{label:e,value:e,checked:j[e]||!1,onChange:()=>z(e,e)})},e)))})]})]})]})]})]})]})};var P=s(3287),U=s(5815),_=s(8290);s(5862);const F=e=>{let{menus:t}=e;return Array(t).fill(0).map(((e,t)=>(0,R.jsx)("li",{children:(0,R.jsx)("div",{children:(0,R.jsx)(_.Z,{height:20,width:150})})})))};var V,T,B,D;function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},z.apply(this,arguments)}function Y(e,t){let{title:s,titleId:n,...c}=e;return a.createElement("svg",z({viewBox:"0 0 102 76",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},c),s?a.createElement("title",{id:n},s):null,V||(V=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.168 22.8C15.168 10.2079 25.3759 0 37.968 0C50.5602 0 60.768 10.2079 60.768 22.8C60.768 35.3922 50.5602 45.6 37.968 45.6C25.3759 45.6 15.168 35.3922 15.168 22.8Z"})),T||(T=a.createElement("path",{d:"M62.6298 35.7869C62.3993 36.2236 62.497 36.7683 62.8938 37.0621C65.8405 39.2433 69.487 40.5333 73.4345 40.5333C83.2283 40.5333 91.1678 32.5939 91.1678 22.8C91.1678 13.0061 83.2283 5.06665 73.4345 5.06665C69.487 5.06665 65.8405 6.35662 62.8938 8.53798C62.497 8.83184 62.3993 9.37626 62.6298 9.81305C64.6762 13.6911 65.8345 18.1103 65.8345 22.8C65.8345 27.4897 64.6762 31.9088 62.6298 35.7869Z"})),B||(B=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3497 54.2099C19.5936 51.4997 27.7861 50.6667 37.9676 50.6667C48.1579 50.6667 56.3563 51.5012 62.6025 54.2175C69.4065 57.1759 73.5419 62.2152 75.7094 69.3303C76.7253 72.6652 74.2204 76.0001 70.7684 76.0001H5.17643C1.72035 76.0001 -0.789878 72.6601 0.22913 69.3192C2.39954 62.203 6.54123 57.1653 13.3497 54.2099Z"})),D||(D=a.createElement("path",{d:"M64.915 45.7844C62.8174 45.9146 62.6942 48.7327 64.6216 49.5707C69.9031 51.8674 73.8799 55.2484 76.732 59.5637C79.0722 63.1048 82.7066 65.8666 86.9509 65.8666H95.9726C99.5558 65.8666 102.17 62.3063 100.91 58.828C100.837 58.6279 100.762 58.4293 100.684 58.2322C98.9488 53.8515 95.9751 50.6266 91.5722 48.571C87.4383 46.6412 82.2632 45.8447 76.1665 45.604L76.0662 45.6H75.9664C72.3751 45.6 68.6243 45.5538 64.915 45.7844Z"})))}const K=a.forwardRef(Y),J=(s.p,()=>{const e=(0,i.I0)(),t=(0,i.v9)((e=>e.productcategories.data)),[s,n]=(0,a.useState)(!0);(0,a.useEffect)((()=>{0===t.length?(n(!0),e((0,P.z)())):n(!1)}),[e,t]);const c=["Mobile and Electronics","Sports & Leisure","Men's Fashion","Women's Fashion","Beauty & Personal Care","Furniture","Games, Hobbies & Crafts"],r=t.filter((e=>c.includes(e.label)));return(0,R.jsx)("nav",{className:"nav-menu",children:(0,R.jsxs)("ul",{children:[s&&(0,R.jsx)(F,{menus:7}),r.map((e=>(0,R.jsx)("li",{children:(0,R.jsxs)("div",{className:"btm-border",children:[(0,R.jsx)(l.rU,{to:"/category/".concat(e.id,"/").concat(e.label),className:"parent-menu",children:e.label}),e.subcategories&&e.subcategories.length>0&&(0,R.jsx)("div",{className:"drop-menu",children:(0,R.jsx)("ul",{children:e.subcategories.map((e=>(0,R.jsx)("li",{children:(0,R.jsx)(l.rU,{to:"/subcategory/".concat(e.id,"/").concat(e.label),children:e.label})},e.id)))})})]})},e.id))),(0,R.jsx)("li",{children:(0,R.jsxs)("div",{className:"btm-border",children:[(0,R.jsx)("div",{className:"community-icon",children:(0,R.jsx)(K,{})}),(0,R.jsx)(l.rU,{to:"/forum",className:"parent-menu community-menu",children:"Community"})]})}),(0,R.jsx)("li",{children:(0,R.jsx)(U.Z,{})})]})})});var G=s(314),W=s(1842);const q=e=>{let{authenticated:t}=e;const s=(0,c.s0)(),[n,i]=(0,a.useState)(!1),[r,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=()=>{window.scrollY>80?i(!0):i(!1)};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[]);return(0,R.jsxs)(R.Fragment,{children:[r&&(0,R.jsx)(W.Z,{onClick:()=>{o((e=>!e))}}),(0,R.jsx)("div",{id:"sticky-header",className:"sticky-header ".concat(n?"sticky":""),children:(0,R.jsx)("div",{className:"container",children:(0,R.jsxs)("div",{className:"sticky-navbar",children:[(0,R.jsx)("div",{className:"col1",children:(0,R.jsx)(l.rU,{to:"/",onClick:()=>{s&&"/"===window.location.pathname&&window.scrollTo(0,0)},children:(0,R.jsx)("img",{src:p,alt:"",className:"logo"})})}),(0,R.jsx)("div",{className:"col2",children:(0,R.jsx)(A,{})}),(0,R.jsxs)("div",{className:"col3",children:[(0,R.jsx)("div",{children:(0,R.jsx)(U.Z,{})}),(0,R.jsx)("div",{children:(0,R.jsx)(G.Z,{onClick:()=>{t?s("/addlisting"):o(!0)},label:"Sell",className:"sticky-header-sell-btn"})})]})]})})})]})};var X,Q=s(2892),$=s(1663),ee=s(6704);function te(){return te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},te.apply(this,arguments)}function se(e,t){let{title:s,titleId:n,...c}=e;return a.createElement("svg",te({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",ref:t,"aria-labelledby":n},c),s?a.createElement("title",{id:n},s):null,X||(X=a.createElement("path",{d:"M224 0c-17.7 0-32 14.3-32 32V49.9C119.5 61.4 64 124.2 64 200v33.4c0 45.4-15.5 89.5-43.8 124.9L5.3 377c-5.8 7.2-6.9 17.1-2.9 25.4S14.8 416 24 416H424c9.2 0 17.6-5.3 21.6-13.6s2.9-18.2-2.9-25.4l-14.9-18.6C399.5 322.9 384 278.8 384 233.4V200c0-75.8-55.5-138.6-128-150.1V32c0-17.7-14.3-32-32-32zm0 96h8c57.4 0 104 46.6 104 104v33.4c0 47.9 13.9 94.6 39.7 134.6H72.3C98.1 328 112 281.3 112 233.4V200c0-57.4 46.6-104 104-104h8zm64 352H224 160c0 17 6.7 33.3 18.7 45.3s28.3 18.7 45.3 18.7s33.3-6.7 45.3-18.7s18.7-28.3 18.7-45.3z"})))}const ne=a.forwardRef(se),ae=(s.p,()=>{const[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)([]),[c,i]=(0,a.useState)(!1);(0,a.useEffect)((()=>{r()}),[]);const r=async()=>{try{const e=await Q.Z.get("/api/notifications"),s=e.data.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))).slice(0,10);t(s)}catch(e){console.error("Error fetching notifications:",e)}};(0,a.useEffect)((()=>{(async()=>{try{const e=await Q.Z.get("/api/notifications/unread");n(e.data)}catch(e){console.error("Error fetching unread notifications:",e)}})()}),[]);const o=(0,a.useRef)();(0,a.useEffect)((()=>{const e=e=>{!o.current||o.current.contains(e.target)||e.target.closest(".bell-icon")||i(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const d=()=>{i(!c)};return(0,R.jsxs)("div",{className:"notification",children:[(0,R.jsx)("div",{className:"bell-icon",onClick:d,children:(0,R.jsx)(ne,{})}),s.length>0?(0,R.jsx)("div",{className:"red-counter",onClick:d,children:s.length}):null,c&&(0,R.jsx)("div",{className:"notification-dropdown-container",ref:o,children:(0,R.jsxs)("div",{className:"notification-dropdown",children:[(0,R.jsx)("div",{className:"triangle-icon",children:(0,R.jsx)(m.r,{})}),(0,R.jsxs)("div",{className:"notification-header",children:[(0,R.jsx)("div",{className:"notification-counter",children:"Notifications"}),0===e.length?null:(0,R.jsx)("div",{className:"see-all",children:(0,R.jsx)(l.rU,{to:"/notificationlist",children:"See all"})})]}),0===e.length?(0,R.jsx)("div",{className:"no-notifications",children:"You don't have any notifications"}):(0,R.jsx)("ul",{children:e.map((s=>(0,R.jsxs)("li",{onClick:()=>(async s=>{try{await Q.Z.put("/api/read-notifications/".concat(s),{read:!0}),t(e.map((e=>e.id===s?{...e,read:!0}:e)))}catch(n){console.error("Error marking notification as read:",n)}})(s.id),children:[(0,R.jsx)("div",{className:"user-image",children:(0,R.jsx)("img",{src:s.subjectUser.profile_pic,alt:""})}),(0,R.jsxs)("div",{className:"notification-message",children:[(0,R.jsx)("span",{style:{width:"100%"},dangerouslySetInnerHTML:{__html:s.message}}),(0,R.jsx)("div",{className:"date",children:(0,$.Z)(new Date(s.createdAt),{addSuffix:!0,locale:ee.Z})})]}),!s.read&&(0,R.jsx)("div",{className:"circle-container",children:(0,R.jsx)("div",{className:"circle"})})]},s.id)))})]})})]})});var ce=s(3147),le=s(2818);s(4691);const ie=e=>{let{center:t,radiusInKilometers:s}=e;const[n,c]=(0,a.useState)(""),l="AIzaSyAD0gvXI_xnuEJPiFdKx_143uA6YMr-bNM";(0,a.useEffect)((()=>{const e="path=color:0x162F2C|weight:2|fillcolor:0x6c757d|enc:".concat(r(t,s)).replace(/`/g,"b");c((()=>{const n=i(s),a=["center=".concat(t.lat,",").concat(t.lng),"zoom=".concat(n),"size=".concat("600x400"),"maptype=roadmap","key=".concat(l),"markers=color:red|label:C|".concat(t.lat,",").concat(t.lng),e];return"".concat("https://maps.googleapis.com/maps/api/staticmap","?").concat(a.join("&"))})())}),[t,s,l]);const i=e=>{const t=1e3*e/500,s=Math.floor(16-Math.log(t)/Math.log(2));return Math.max(1,Math.min(20,s))},r=(e,t)=>{const s=[],n=1e3*t;for(let a=0;a<50;a++){const t=a/50*2*Math.PI,c=n*Math.cos(t)/111320,l=n*Math.sin(t)/110540;s.push([e.lat+l,e.lng+c])}return o(s)},o=e=>{let t="",s=0,n=0;return e.forEach((e=>{let a=Math.round(1e5*e[0]),c=Math.round(1e5*e[1]);t+=d(a-s),t+=d(c-n),s=a,n=c})),t},d=e=>{let t="";for(e=e<0?~(e<<1):e<<1;e>=32;)t+=String.fromCharCode(63+(32|31&e)),e>>=5;return t+=String.fromCharCode(e+63),t};return(0,R.jsx)("div",{children:n?(0,R.jsx)("img",{src:n,alt:"Static Google Map",style:{height:"auto",width:"100%",marginBottom:"20px"}}):(0,R.jsx)("div",{children:"Loading..."})})},re=e=>{let{onClick:t,onRadiusChange:s,currentRadius:n,latitude:c,longitude:l,placeName:i}=e;const[r,o]=(0,a.useState)(!0),[d,u]=(0,a.useState)(n),h={lat:c,lng:l};return(0,a.useEffect)((()=>(document.body.style.overflow=r?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[r]),(0,R.jsx)(R.Fragment,{children:r&&(0,R.jsx)("div",{className:"modal-container",children:(0,R.jsxs)("div",{className:"modal-box",children:[(0,R.jsx)("div",{className:"location-radius-row1",children:(0,R.jsx)("button",{className:"closebtn",onClick:t,children:(0,R.jsx)("i",{className:"fa fa-times"})})}),(0,R.jsxs)("div",{className:"modal-box-title",children:[(0,R.jsx)("h5",{children:"SET DISTANCE RADIUS"}),(0,R.jsx)("span",{children:"Your current location is: "}),(0,R.jsx)("span",{className:"current-location",children:i})]}),(0,R.jsx)("div",{children:(0,R.jsx)(ie,{center:h,radiusInKilometers:d})}),(0,R.jsxs)("div",{className:"slidecontainer",children:[(0,R.jsx)("input",{type:"range",min:"1",max:"100",value:d,className:"slider",onChange:e=>{const t=e.target.value;u(t)}}),(0,R.jsxs)("span",{id:"demo",children:[d,"km"]})]}),(0,R.jsx)("div",{className:"buttons",children:(0,R.jsx)(G.Z,{label:"Apply",onClick:()=>{s(d),t()},className:"apply-btn"})})]})})})};var oe=s(3545);const de=function(){const e=(0,c.s0)(),[t,s]=(0,a.useState)(!1),n=(0,i.v9)((e=>e.user.data)),[o,d]=(0,a.useState)((()=>{const e=localStorage.getItem("radius");return e?JSON.parse(e):15})),[h,g]=(0,a.useState)(null),[x,v]=(0,a.useState)(null),[f,C]=(0,a.useState)((()=>{const e=localStorage.getItem("placeName");return e?JSON.parse(e):null})),[N,y]=(0,a.useState)(!1),[b,w]=(0,a.useState)(""),[E,S]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=document.getElementsByClassName("collapsible"),t=function(){this.classList.toggle("active");const e=this.nextElementSibling;e&&e.style?e.style.maxHeight?e.style.maxHeight=null:e.style.maxHeight=e.scrollHeight+"px":console.warn("Content element is null or missing for:",this)};for(let s=0;s<e.length;s++)e[s].addEventListener("click",t);return()=>{for(let s=0;s<e.length;s++)e[s].removeEventListener("click",t)}}),[]);const k=(e,t)=>{const s=Math.pow(10,t);return Math.round(e*s)/s},M=()=>{y(!1),navigator.geolocation.getCurrentPosition((e=>{const t=k(e.coords.latitude,4),n=k(e.coords.longitude,4);g(t),v(n),(async(e,t)=>{const s="https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(t,"&key=").concat("AIzaSyAD0gvXI_xnuEJPiFdKx_143uA6YMr-bNM");try{const e=await fetch(s),t=await e.json();if("OK"===t.status){const e=t.results[0].address_components[1].long_name,s=t.results[0].address_components[2].long_name;C("".concat(e,", ").concat(s))}else console.error("Geocoding error:",t.status)}catch(n){console.error("Fetch error:",n)}})(t,n),s(!0)}),(e=>{switch(e.code){case e.PERMISSION_DENIED:w("You denied Yogeek to use your current location.");break;case e.POSITION_UNAVAILABLE:w("Location information is unavailable.");break;case e.TIMEOUT:w("The request to get user location timed out.");break;case e.UNKNOWN_ERROR:w("An unknown error occurred.");break;default:w("An unexpected error occurred. Please try again.")}y(!0)}))};(0,a.useEffect)((()=>{(async()=>{if(await(async()=>{if(!navigator.permissions)return!1;try{return"granted"===(await navigator.permissions.query({name:"geolocation"})).state}catch(e){return console.error("Error checking location permission:",e),!1}})()){localStorage.setItem("radius",JSON.stringify(o)),localStorage.setItem("placeName",JSON.stringify(f));localStorage.getItem("placeName")&&!f&&C((()=>{const e=localStorage.getItem("placeName");return e?JSON.parse(e):null}))}else localStorage.removeItem("radius"),localStorage.removeItem("placeName"),d(15),C(null)})()}),[o,f]);const O=()=>{n?e("/addlisting"):S(!0)};return(0,R.jsxs)(R.Fragment,{children:[E&&(0,R.jsx)(W.Z,{onClick:()=>{S((e=>!e))}}),N&&(0,R.jsx)(L.Z,{type:"error",message:b,className:"alert-box"}),t&&(0,R.jsx)(re,{onClick:()=>{s((e=>!e))},onRadiusChange:d,currentRadius:o,latitude:h,longitude:x,placeName:f}),(0,R.jsxs)("header",{children:[(0,R.jsxs)("div",{className:"desktop-header",children:[(0,R.jsx)("div",{children:(0,R.jsx)(q,{authenticated:n})}),(0,R.jsx)("div",{className:"row1",children:(0,R.jsxs)("div",{className:"container",children:[(0,R.jsx)("div",{className:"col-left",children:(0,R.jsxs)("div",{className:"language-selector",children:[(0,R.jsx)("div",{className:"globe-icon",children:(0,R.jsx)(u,{})}),(0,R.jsx)(oe.Z,{})]})}),(0,R.jsx)("div",{className:"col-right",children:n?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:"nav-tools",children:[(0,R.jsx)("div",{className:"header-message-icon-container",onClick:()=>{window.location.href="/messages"},children:(0,R.jsx)(ce.Z,{})}),(0,R.jsx)("div",{className:"header-notification-icon-container",children:(0,R.jsx)(ae,{})}),(0,R.jsx)("div",{className:"header-wishlist-icon-container",onClick:()=>{n&&(window.location.href="/wishlist")},children:(0,R.jsx)("div",{className:"heart-icon",children:(0,R.jsx)(r.r,{})})})]}),(0,R.jsx)(l.rU,{to:"/addlisting",className:"sell-btn",children:(0,R.jsx)("span",{children:"Sell"})}),(0,R.jsxs)("div",{className:"my-account",children:[(0,R.jsx)(l.rU,{to:"/editprofile",className:"sell-btn",children:(0,R.jsx)("span",{children:"My Account"})}),(0,R.jsx)("div",{className:"my-account-dropdown-container",children:(0,R.jsxs)("div",{className:"my-account-dropdown",children:[(0,R.jsx)("div",{className:"triangle-icon",children:(0,R.jsx)(m.r,{})}),(0,R.jsxs)("ul",{children:[(0,R.jsx)("li",{children:(0,R.jsx)(l.rU,{to:"/editprofile",children:"Manage Account"})}),(0,R.jsx)("li",{children:(0,R.jsx)(l.rU,{onClick:()=>{if(n){const e=n.id;window.location.href="/profile/".concat(e)}},children:"My Profile & Listings"})}),(0,R.jsx)("li",{children:(0,R.jsx)(l.rU,{to:"/forum",children:"Community"})}),(0,R.jsx)("li",{children:(0,R.jsx)(l.rU,{to:"/settings/1",children:"Settings"})}),(0,R.jsx)("li",{children:"Help & Support"}),(0,R.jsx)("li",{children:(0,R.jsx)(l.rU,{onClick:()=>{const e="".concat("http://localhost:8081").concat("/api/logout");window.open(e,"_self")},children:"Logout"})})]})]})})]})]}):(0,R.jsxs)("div",{className:"login-register",children:[(0,R.jsx)("button",{onClick:O,className:"login-modal",children:"SELL"}),(0,R.jsx)("button",{onClick:O,className:"login-modal",children:"LOGIN"}),(0,R.jsx)(l.rU,{to:"/registerbyemail",children:"REGISTER"})]})})]})}),(0,R.jsx)("div",{className:"row2",children:(0,R.jsxs)("div",{className:"container",children:[(0,R.jsx)("div",{className:"col1",children:(0,R.jsx)(l.rU,{to:"/",children:(0,R.jsx)("img",{src:p,alt:"",className:"logo"})})}),(0,R.jsx)("div",{className:"col2",children:(0,R.jsx)(A,{radius:o,placeName:f,setPlaceName:C})}),(0,R.jsx)("div",{className:"col3",children:(0,R.jsx)("div",{className:"location-container",children:(0,R.jsxs)("div",{className:"user-location",children:[(0,R.jsx)("div",{className:"location-icon",children:(0,R.jsx)(j,{})}),null===f?(0,R.jsx)("button",{onClick:M,children:"Set Your Location Radius"}):(0,R.jsx)("button",{onClick:M,children:"".concat(f," \xb7 ").concat(o,"km")})]})})})]})}),(0,R.jsx)("div",{className:"row3",children:(0,R.jsx)("div",{className:"container",children:(0,R.jsx)(J,{})})})]}),(0,R.jsx)(le.Z,{user:n})]})]})}}}]);
//# sourceMappingURL=6593.6453b2f0.chunk.js.map