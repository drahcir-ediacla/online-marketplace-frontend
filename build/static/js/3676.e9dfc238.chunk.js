"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[3676],{2100:(e,t,a)=>{a.d(t,{r:()=>c});var s,n,i=a(2791);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},r.apply(this,arguments)}function l(e,t){let{title:a,titleId:l,...c}=e;return i.createElement("svg",r({viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},c),a?i.createElement("title",{id:l},a):null,s||(s=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 8.49983C1.00026 4.92196 3.52784 1.84252 7.03698 1.14474C10.5462 0.44698 14.0595 2.32522 15.4285 5.63081C16.7975 8.93642 15.6409 12.7487 12.6659 14.7363C9.69088 16.7239 5.72612 16.3332 3.19632 13.8031C1.7899 12.3965 0.999861 10.4889 1 8.49983Z",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),n||(n=i.createElement("path",{d:"M4.7498 8.49947L7.24932 10.999L12.2494 6",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const c=i.forwardRef(l);a.p},9401:(e,t,a)=>{a.d(t,{r:()=>x});var s,n,i,r,l,c,o,d,m,u,h,v,g=a(2791);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},p.apply(this,arguments)}function f(e,t){let{title:a,titleId:f,...x}=e;return g.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",display:"block",shapeRendering:"auto"},viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":f},x),a?g.createElement("title",{id:f},a):null,s||(s=g.createElement("g",{transform:"rotate(0 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.9166666666666666s",repeatCount:"indefinite"})))),n||(n=g.createElement("g",{transform:"rotate(30 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.8333333333333334s",repeatCount:"indefinite"})))),i||(i=g.createElement("g",{transform:"rotate(60 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.75s",repeatCount:"indefinite"})))),r||(r=g.createElement("g",{transform:"rotate(90 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.6666666666666666s",repeatCount:"indefinite"})))),l||(l=g.createElement("g",{transform:"rotate(120 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5833333333333334s",repeatCount:"indefinite"})))),c||(c=g.createElement("g",{transform:"rotate(150 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.5s",repeatCount:"indefinite"})))),o||(o=g.createElement("g",{transform:"rotate(180 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.4166666666666667s",repeatCount:"indefinite"})))),d||(d=g.createElement("g",{transform:"rotate(210 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.3333333333333333s",repeatCount:"indefinite"})))),m||(m=g.createElement("g",{transform:"rotate(240 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.25s",repeatCount:"indefinite"})))),u||(u=g.createElement("g",{transform:"rotate(270 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.16666666666666666s",repeatCount:"indefinite"})))),h||(h=g.createElement("g",{transform:"rotate(300 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"-0.08333333333333333s",repeatCount:"indefinite"})))),v||(v=g.createElement("g",{transform:"rotate(330 50 50)"},g.createElement("rect",{x:47,y:24,rx:3,ry:6,width:6,height:12,fill:"#555555"},g.createElement("animate",{attributeName:"opacity",values:"1;0",keyTimes:"0;1",dur:"1s",begin:"0s",repeatCount:"indefinite"})))))}const x=g.forwardRef(f);a.p},2529:(e,t,a)=>{a.d(t,{r:()=>l});var s,n=a(2791);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},i.apply(this,arguments)}function r(e,t){let{title:a,titleId:r,...l}=e;return n.createElement("svg",i({viewBox:"0 0 4 15",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},l),a?n.createElement("title",{id:r},a):null,s||(s=n.createElement("path",{d:"M2.0263 11.1111C3.11535 11.1111 3.99998 11.9826 3.99998 13.0556C3.99998 14.1285 3.11535 15 2.0263 15C0.937246 15 0.0526123 14.1285 0.0526123 13.0556C0.0526123 11.9826 0.937246 11.1111 2.0263 11.1111ZM2.0263 5.55556C3.11535 5.55556 3.99998 6.42708 3.99998 7.5C3.99998 8.57292 3.11535 9.44444 2.0263 9.44444C0.937246 9.44444 0.0526123 8.57292 0.0526123 7.5C0.0526123 6.42708 0.937246 5.55556 2.0263 5.55556ZM3.99998 1.94444C3.99998 3.01736 3.11535 3.88889 2.0263 3.88889C0.937246 3.88889 0.0526123 3.01736 0.0526123 1.94444C0.0526123 0.871528 0.937246 0 2.0263 0C3.11535 0 3.99998 0.871528 3.99998 1.94444Z"})))}const l=n.forwardRef(r);a.p},9561:(e,t,a)=>{a.d(t,{r:()=>o});var s,n,i,r=a(2791);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},l.apply(this,arguments)}function c(e,t){let{title:a,titleId:c,...o}=e;return r.createElement("svg",l({viewBox:"0 0 38 32",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},o),a?r.createElement("title",{id:c},a):null,s||(s=r.createElement("path",{d:"M34.9999 0H2.99995C2.39374 0 1.81236 0.240816 1.3837 0.66947C0.955049 1.09812 0.714233 1.67951 0.714233 2.28571V29.7143C0.714233 30.3205 0.955049 30.9019 1.3837 31.3305C1.81236 31.7592 2.39374 32 2.99995 32H34.9999C35.6062 32 36.1875 31.7592 36.6162 31.3305C37.0448 30.9019 37.2857 30.3205 37.2857 29.7143V2.28571C37.2857 1.67951 37.0448 1.09812 36.6162 0.66947C36.1875 0.240816 35.6062 0 34.9999 0ZM2.99995 29.7143V2.28571H34.9999V29.7143H2.99995Z"})),n||(n=r.createElement("path",{d:"M8.62279 11.4286C9.30089 11.4286 9.96377 11.2275 10.5276 10.8507C11.0914 10.474 11.5309 9.93853 11.7904 9.31204C12.0499 8.68555 12.1178 7.99618 11.9855 7.3311C11.8532 6.66603 11.5266 6.05511 11.0472 5.57562C10.5677 5.09612 9.95674 4.76958 9.29167 4.63729C8.62659 4.505 7.93722 4.5729 7.31073 4.8324C6.68424 5.0919 6.14877 5.53135 5.77203 6.09517C5.3953 6.659 5.19421 7.32188 5.19421 7.99998C5.19421 8.9093 5.55544 9.78137 6.19842 10.4244C6.8414 11.0673 7.71347 11.4286 8.62279 11.4286ZM8.62279 6.17141C8.98492 6.16915 9.33957 6.27447 9.64178 6.47401C9.94399 6.67356 10.1801 6.95834 10.3203 7.29227C10.4604 7.62619 10.4983 7.99421 10.429 8.34966C10.3598 8.70512 10.1865 9.03201 9.93126 9.28888C9.67599 9.54576 9.35019 9.72105 8.99517 9.79254C8.64016 9.86403 8.27191 9.82849 7.93712 9.69043C7.60232 9.55237 7.31606 9.31801 7.11462 9.01706C6.91319 8.71611 6.80565 8.36213 6.80564 7.99998C6.80864 7.51897 7.00105 7.05852 7.34118 6.71838C7.68132 6.37825 8.14177 6.18584 8.62279 6.18284V6.17141Z"})),i||(i=r.createElement("path",{d:"M24.4628 12.9943L18.2914 19.1657L13.7199 14.5943C13.5058 14.3814 13.2161 14.2619 12.9142 14.2619C12.6123 14.2619 12.3226 14.3814 12.1085 14.5943L5.19421 21.6V24.8343L12.9542 17.0743L16.7142 20.7771L12.4285 25.0628H15.5714L25.2285 15.4057L32.7142 22.8571V19.6343L26.0742 12.9943C25.8601 12.7814 25.5704 12.6619 25.2685 12.6619C24.9666 12.6619 24.6769 12.7814 24.4628 12.9943Z"})))}const o=r.forwardRef(c);a.p},2213:(e,t,a)=>{a.d(t,{A0:()=>c,EB:()=>u,J_:()=>l,QB:()=>n,X$:()=>m,_X:()=>d,ek:()=>i,jW:()=>r,yE:()=>o});var s=a(2892);const n=async(e,t)=>{const a=encodeURIComponent(t);try{return await s.Z.get("/api/getproductdetails/".concat(e,"/").concat(a))}catch(n){throw console.error("Error fetching product details:",n),n}},i=async()=>{try{return await s.Z.get("/api/getallproducts")}catch(e){return e}},r=async e=>{try{return await s.Z.delete("/api/deleteproductbyid/".concat(e))}catch(t){return t}},l=async e=>{try{return await s.Z.put("/api/mark-sold/".concat(e))}catch(t){return t}},c=async e=>{try{const t=await s.Z.post("/api/product/view/".concat(e),{id:e});t.data.success?console.log("Product view tracked successfully:",t.data.message):console.error("Failed to track product view:",t.data.error)}catch(t){console.error("Error tracking product view:",t)}},o=async e=>{try{return await s.Z.get("/api/category/most-viewed-product/".concat(e))}catch(t){return t}},d=async()=>{try{return await s.Z.get("/api/getallcategories")}catch(e){return e}},m=async e=>{try{return await s.Z.post("/api/addwishlist/product-".concat(e))}catch(t){return t}},u=async e=>{try{return await s.Z.post("/api/removewishlist/product-".concat(e))}catch(t){return t}}},4781:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(2791),n=a(184);const i=e=>{var t;let{data:a,className:i,onOptionSelect:r}=e;const[l,c]=(0,s.useState)(!1),[o,d]=(0,s.useState)(null),m=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=e=>{m.current&&!m.current.contains(e.target)&&c(!1)};return document.addEventListener("click",e),()=>{document.removeEventListener("click",e)}}),[]),(0,n.jsxs)("div",{className:"custom-select ".concat(i," ").concat(l?"open":""),onClick:()=>{c(!l)},ref:m,children:[(0,n.jsx)("div",{className:"selected-option",children:o?o.label:null===(t=a[0])||void 0===t?void 0:t.label}),(0,n.jsx)("div",{className:"arrow-down"}),(0,n.jsx)("div",{className:"options",children:a.map((e=>(0,n.jsx)("div",{className:"option ".concat(o===e?"selected":""),onClick:()=>(e=>{d(e),c(!1),r&&r(e)})(e),children:e.label},e.value)))})]})}},5805:(e,t,a)=>{a.d(t,{Z:()=>n});a(2791),a(4166);var s=a(184);const n=e=>{let{id:t,name:a,value:n,type:i,ref:r,className:l,style:c,placeholder:o,onChange:d,onKeyDown:m,onKeyPress:u,onFocus:h,disabled:v,defaultValue:g,readOnly:p}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("input",{type:i,id:t,name:a,value:n,ref:r,onChange:d,onKeyDown:m,onKeyPress:u,onFocus:h,disabled:v,defaultValue:g,readOnly:p,className:"custom-input ".concat(l),style:c,placeholder:o})})}},6481:(e,t,a)=>{a.d(t,{Z:()=>n});a(2791),a(4166);var s=a(184);const n=e=>{let{name:t,id:a,cols:n,rows:i,value:r,onChange:l,className:c,placeholder:o}=e;return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("textarea",{name:t,id:a,value:r,onChange:l,cols:n,rows:i,className:"custom-textarea ".concat(c),placeholder:o})})}},1404:(e,t,a)=>{a.d(t,{Z:()=>o});var s=a(2791),n=(a(4691),a(2213)),i=a(2100),r=a(3615),l=a(314),c=a(184);const o=e=>{let{onClick:t,productId:a,productName:o,userId:d}=e;const[m,u]=(0,s.useState)(!0);(0,s.useEffect)((()=>(document.body.style.overflow=m?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[m]);return(0,c.jsx)(c.Fragment,{children:m&&(0,c.jsx)("div",{className:"modal-container",children:(0,c.jsxs)("div",{className:"modal-box",children:[(0,c.jsx)("div",{className:"delete-item-modal-row1",children:(0,c.jsx)("button",{className:"closebtn",onClick:t,children:(0,c.jsx)("i",{class:"fa fa-times"})})}),(0,c.jsx)("div",{className:"modal-sold-icon",children:(0,c.jsx)(i.r,{})}),(0,c.jsxs)("div",{className:"are-you-sure",children:[(0,c.jsx)("h5",{children:"Are you sure you want to mark your listing as Sold?"}),(0,c.jsxs)("span",{children:["You can\u2019t undo this action. ",(0,c.jsx)("br",{}),"Buyers can no longer make offers for this listing."]})]}),(0,c.jsxs)("div",{className:"buttons",children:[(0,c.jsx)(l.Z,{className:"mark-sold-button",label:"Yes, Mark as Sold",onClick:async()=>{try{const e=await(0,n.J_)(a);return e.data.success&&window.location.reload(),e}catch(e){return console.error("Error:",e),e}}}),(0,c.jsx)(r.Z,{label:"No, Cancel",onClick:t})]})]})})})}},7518:(e,t,a)=>{a.r(t),a.d(t,{default:()=>P});var s,n,i,r,l=a(2791),c=a(7689),o=a(1608),d=a(2892),m=a(1310),u=a(1087),h=a(6593),v=a(6638),g=a(4122),p=a(314),f=a(5805),x=a(2529),j=a(9561);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},w.apply(this,arguments)}function b(e,t){let{title:a,titleId:c,...o}=e;return l.createElement("svg",w({width:21,height:21,viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},o),a?l.createElement("title",{id:c},a):null,s||(s=l.createElement("path",{d:"M10.8571 1.75C15.7321 1.75 19.6071 5.625 19.6071 10.5C19.6071 15.375 15.7321 19.25 10.8571 19.25C5.98215 19.25 2.10715 15.375 2.10715 10.5C2.10715 5.625 5.98215 1.75 10.8571 1.75ZM10.8571 0.5C5.35715 0.5 0.857147 5 0.857147 10.5C0.857147 16 5.35715 20.5 10.8571 20.5C16.3571 20.5 20.8571 16 20.8571 10.5C20.8571 5 16.3571 0.5 10.8571 0.5Z"})),n||(n=l.createElement("path",{d:"M10.8571 17C8.35715 17 6.10715 15.5 5.10715 13.125L6.23215 12.625C6.98215 14.5 8.85715 15.625 10.8571 15.625C12.8571 15.625 14.7321 14.375 15.4821 12.625L16.6071 13.125C15.6071 15.625 13.3571 17 10.8571 17Z"})),i||(i=l.createElement("path",{d:"M9.60715 8C9.60715 8.69 9.04715 9.25 8.35715 9.25C7.66715 9.25 7.10715 8.69 7.10715 8C7.10715 7.31 7.66715 6.75 8.35715 6.75C9.04715 6.75 9.60715 7.31 9.60715 8Z"})),r||(r=l.createElement("path",{d:"M14.6071 8C14.6071 8.69 14.0471 9.25 13.3571 9.25C12.6671 9.25 12.1071 8.69 12.1071 8C12.1071 7.31 12.6671 6.75 13.3571 6.75C14.0471 6.75 14.6071 7.31 14.6071 8Z"})))}const y=l.forwardRef(b);a.p;var C;function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},N.apply(this,arguments)}function E(e,t){let{title:a,titleId:s,...n}=e;return l.createElement("svg",N({width:22,height:23,viewBox:"0 0 22 23",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},n),a?l.createElement("title",{id:s},a):null,C||(C=l.createElement("path",{d:"M9.44686 13.0532L20.3661 2.13388M9.57955 13.3942L12.3126 20.4221C12.5533 21.0412 12.6738 21.3508 12.8472 21.4412C12.9976 21.5195 13.1768 21.5196 13.3271 21.4414C13.5007 21.3513 13.6215 21.0419 13.863 20.423L20.7164 2.861C20.9345 2.30237 21.0435 2.02306 20.9838 1.84458C20.932 1.68957 20.8105 1.56794 20.6554 1.51616C20.477 1.45654 20.1976 1.56553 19.639 1.78353L2.07698 8.63701C1.45814 8.87851 1.14873 8.99925 1.05855 9.17283C0.980383 9.32329 0.980487 9.50242 1.05884 9.6528C1.14921 9.82626 1.45877 9.94668 2.07788 10.1874L9.10576 12.9205C9.23138 12.9693 9.2942 12.9938 9.34713 13.0315C9.39403 13.0649 9.435 13.106 9.46849 13.1529C9.50624 13.2058 9.53067 13.2686 9.57955 13.3942Z",stroke:"white",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const k=l.forwardRef(E);a.p;var A=a(9401),S=a(7057),F=a(7229);var I,Z=a(3615),Q=a(1404),R=a(9434),L=a(3071),T=a(1757),M=(a(4691),a(6481));function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e},D.apply(this,arguments)}function O(e,t){let{title:a,titleId:s,...n}=e;return l.createElement("svg",D({viewBox:"0 0 44 44",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},n),a?l.createElement("title",{id:s},a):null,I||(I=l.createElement("path",{d:"M1 22H43M22 1V43",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})))}const V=l.forwardRef(O);a.p;var U=a(184);const W=e=>{let{onClick:t,productId:a,userId:s,sellerId:n,targetId:i,chatId:r,displayName:c,profileImg:o}=e;const[m,u]=(0,l.useState)(!0),[h,v]=(0,l.useState)(0),[g,f]=(0,l.useState)(void 0),[x,j]=(0,l.useState)(""),[w,b]=(0,l.useState)([]),[y,C]=(0,l.useState)(0),[N,E]=(0,l.useState)([]),k=(0,R.I0)(),A=Array(5).fill(0);(0,l.useEffect)((()=>(document.body.style.overflow=m?"hidden":"auto",()=>{document.body.style.overflow="auto"})),[m]);const S=()=>{f(void 0)};return(0,U.jsx)(U.Fragment,{children:m&&(0,U.jsx)("div",{className:"modal-container",children:(0,U.jsxs)("div",{className:"modal-box",children:[(0,U.jsx)("div",{className:"delete-item-modal-row1",children:(0,U.jsx)("button",{className:"closebtn",onClick:t,children:(0,U.jsx)("i",{className:"fa fa-times"})})}),(0,U.jsx)("div",{className:"review-modal-row1",children:(0,U.jsx)("h3",{children:"How was your experience?"})}),(0,U.jsxs)("div",{className:"review-modal-row2",children:[s===n?(0,U.jsx)("span",{children:"Rate the buyer"}):(0,U.jsx)("span",{children:"Rate the seller"}),(0,U.jsx)("div",{style:{display:"flex",gap:"5px"},children:A.map(((e,t)=>(0,U.jsx)(L.QJe,{size:24,style:{cursor:"pointer"},color:(g||h)>t?"#FFD800":"#bcbcbc",onClick:()=>{v(t+1)},onMouseOver:()=>{f(t+1)},onMouseLeave:S},t)))})]}),(0,U.jsxs)("div",{className:"review-modal-row3",children:[(0,U.jsx)("span",{children:"Write a review"}),(0,U.jsx)(M.Z,{className:"review-text-box",placeholder:"Tell us more about your experiences with the seller and the purchase.",rows:"5",value:x,onChange:e=>{j(e.target.value)}})]}),s!==n&&(0,U.jsxs)("div",{className:"review-modal-row4",children:[w.map(((e,t)=>(0,U.jsxs)("div",{className:"preview-img-box",children:[(0,U.jsx)("img",{src:e,alt:"Img ".concat(t),className:"review-preview-image"}),(0,U.jsx)("div",{onClick:()=>(e=>{const t=w.length>e?1:0,a=w.filter(((t,a)=>a!==e)),s=N.filter(((t,a)=>a!==e));b(a),E(s),C((e=>e-t))})(t),className:"upload-img-close"})]},t))),w.length<5&&(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("label",{htmlFor:"imgUpload",className:"custom-file-upload",children:(0,U.jsxs)("button",{type:"button",className:"upload-img-box",onClick:()=>{document.getElementById("imgUpload").click()},children:[(0,U.jsx)("div",{className:"add-review-upload-img",children:(0,U.jsx)(V,{})}),(0,U.jsx)("span",{children:"Add Images"}),(0,U.jsxs)("span",{children:[y,"/5"]})]})}),(0,U.jsx)("input",{type:"file",id:"imgUpload",multiple:!0,accept:"image/*",onChange:e=>{const t=e.target.files,a=Array.from(t);if(a.length+N.length>5)return void alert("You can only select up to ".concat(5," images."));const s=[];let n=0;a.forEach((e=>{if(!e.type.startsWith("image/"))return void alert("Only image files are allowed.");const t=new FileReader;t.onload=e=>{s.push(e.target.result),n++,n===a.length&&(b((e=>[...e,...s])),E((e=>[...e,...a])),C((e=>e+n)))},t.readAsDataURL(e)}))},hidden:!0})]})]}),(0,U.jsxs)("div",{className:"modal-review-buttons",children:[(0,U.jsx)(Z.Z,{label:"Cancel",onClick:t}),(0,U.jsx)(p.Z,{label:"Submit Review",onClick:async()=>{if(0===h)return void alert("Please rate your experience before submitting the review.");let e;e=s===n?"Seller":"Buyer";try{k((0,T.P)(!0));const t=[];for(const e of N){const a=new FormData;a.append("file",e),a.append("upload_preset","auwcvbw0"),a.append("cloud_name","yogeek-cloudinary"),a.append("folder","review_images");const s=await fetch("https://api.cloudinary.com/v1_1/yogeek-cloudinary/image/upload",{method:"POST",body:a});if(!s.ok)throw new Error("Failed to upload image");const n=await s.json();t.push(n.secure_url)}await d.Z.post("/api/submit-review",{chat_id:r,reviewer_id:s,reviewer_name:c,target_id:i,role:e,product_id:a,rating:h,comment:x,imageUrls:t,profile_pic:o}),v(0),j(""),b([]),E([]),C(0),u(!1),k((0,T.P)(!1)),window.location.reload()}catch(t){k((0,T.P)(!1)),console.error("Error sending message:",t)}}})]})]})})})};var B=a(4781);const P=()=>{var e,t,a,s,n;const{chat_id:i}=(0,c.UO)(),r=(0,l.useRef)(null),{user:w}=(0,m.Z)(),[b,C]=(0,l.useState)([]),[N,E]=(0,l.useState)(""),[I,R]=(0,l.useState)(!1),[L,T]=(0,l.useState)(!1),[M,D]=(0,l.useState)(!1),[O,V]=(0,l.useState)(!1),[P,J]=(0,l.useState)(!1),[z,H]=(0,l.useState)(!1),[X,G]=(0,l.useState)(null),[q,Y]=(0,l.useState)(null),[K,_]=(0,l.useState)(null),[$,ee]=(0,l.useState)([]),[te,ae]=(0,l.useState)(null),[se,ne]=(0,l.useState)({}),[ie,re]=(0,l.useState)(null),le=null===w||void 0===w?void 0:w.id,ce=se[null===ie||void 0===ie?void 0:ie.id]||(null===ie||void 0===ie?void 0:ie.status),oe=null===w||void 0===w?void 0:w.display_name,de=null===w||void 0===w?void 0:w.profile_pic,me=null===K||void 0===K?void 0:K.product_id,ue=null===K||void 0===K||null===(e=K.offers)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.offer_price,he=null===K||void 0===K||null===(a=K.offers)||void 0===a||null===(s=a[0])||void 0===s?void 0:s.offer_status,ve=null===K||void 0===K?void 0:K.review,[ge,pe]=(0,l.useState)(""),fe=null===te||void 0===te?void 0:te.status,xe=null===te||void 0===te||null===(n=te.seller)||void 0===n?void 0:n.id,[je,we]=(0,l.useState)(null),[be,ye]=(0,l.useState)(!1),[Ce,Ne]=(0,l.useState)(""),Ee=e=>/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i.test(e),ke=["Inbox","Archived","Unread"].map((e=>({label:e,value:e.toLowerCase()}))),Ae=$.filter((e=>{var t;return null===e||void 0===e||null===(t=e.chat)||void 0===t?void 0:t.messages.some((e=>e.receiver_id===(null===w||void 0===w?void 0:w.id)&&e.archived))})),Se=$.filter((e=>{var t;return null===e||void 0===e||null===(t=e.chat)||void 0===t?void 0:t.messages.some((e=>e.receiver_id===(null===w||void 0===w?void 0:w.id)&&!e.read))})),Fe=$.filter((e=>{var t;return null===e||void 0===e||null===(t=e.chat)||void 0===t?void 0:t.messages.some((e=>e.receiver_id===(null===w||void 0===w?void 0:w.id)&&!e.archived))})),Ie=e=>/Offered Price/.test(e),Ze=e=>/Offer Cancelled/.test(e),Qe=e=>/Offer Accepted/.test(e),Re=e=>/Offer Declined/.test(e),[Le,Te]=(0,l.useState)(""),[Me,De]=(0,l.useState)([]);console.log("filteredChat:",Me);const Oe=(0,l.useRef)(null),Ve=(0,l.useRef)(null),[Ue,We]=(0,l.useState)(!0),[Be,Pe]=(0,l.useState)(!0),[Je,ze]=(0,l.useState)(!0),[He,Xe]=(0,l.useState)(!1),[Ge,qe]=(0,l.useState)(!0),Ye=()=>{We(!Ue)},Ke=()=>{Pe(!Be)},_e=()=>{T((e=>!e))},$e=()=>{R((e=>!e))},et=e=>{Ne(e),ye(!0)},tt=()=>{ye(!1),Ne("")};(0,l.useEffect)((()=>{const e=window.matchMedia("(max-width: 1024px)"),t=e=>{e.matches?(Xe(!0),qe(!1),ze(!1)):(Xe(!1),qe(!0),ze(!0))};return t(e),e.addEventListener("change",t),()=>{e.removeEventListener("change",t)}}),[]),(0,l.useEffect)((()=>{if($.length>0&&null!==w&&void 0!==w&&w.id&&(null===X||"inbox"===(null===X||void 0===X?void 0:X.value))){const e=$.filter((e=>{var t;return null===e||void 0===e||null===(t=e.chat)||void 0===t?void 0:t.messages.some((e=>e.receiver_id===w.id&&!e.archived||e.sender_id===w.id&&!e.archived))}));De(e)}}),[$,w,X]);const at=(0,l.useRef)();(0,l.useEffect)((()=>{const e=e=>{!at.current||at.current.contains(e.target)||e.target.closest(".three-dots-container")||H(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]),(0,l.useEffect)((()=>{Ve.current&&(Ve.current.scrollTop=Ve.current.scrollHeight)}),[b,$]),(0,l.useEffect)((()=>{if(b&&b.length>0){const e=b.findIndex((e=>Ee(e.content)));Y(e)}}),[b,$,Me]),(0,l.useEffect)((()=>{const e=e=>{Oe.current&&!Oe.current.contains(e.target)&&V(!1)};return document.body.addEventListener("mousedown",e),()=>{document.body.removeEventListener("mousedown",e)}}),[]);const st=(e,t)=>(null===e||void 0===e?void 0:e.length)>t?e.substring(0,t)+"...":e,nt=e=>{const t=parseFloat(e);if(!isNaN(t)){return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP",minimumFractionDigits:2,maximumFractionDigits:2}).format(t).replace(/\.00$/,"")}if("string"===typeof e&&Ie(e)){const t=parseFloat(e.replace(/<.*?>/g,"").replace(/[^0-9.]/g,""));return nt(t)}return e};(0,l.useEffect)((()=>{r.current=(0,o.ZP)("http://localhost:8081",{query:{id:null===w||void 0===w?void 0:w.id}});return Me.map((e=>e.chat_id)).forEach((e=>{r.current.emit("joinChat",e)})),r.current.emit("joinChat",i),r.current.on("receive_message",(e=>{if(e.chat_id===i){b.some((t=>t.id===e.id))||(e.timestamp=(new Date).toISOString(),C((t=>[...t,e])))}De((t=>t.map((t=>({...t,chat:{...t.chat,messages:t.chat_id===e.chat_id?[...t.chat.messages,e]:t.chat.messages}})))))})),r.current.on("updateUserStatus",(e=>{ne((t=>({...t,[e.id]:e.status})))})),()=>{r.current&&r.current.disconnect()}}),[i,Me,b,je,$]),(0,l.useEffect)((()=>{it()}),[]);const it=async()=>{try{const e=(await d.Z.get("/api/get-all/user-chat")).data.map((e=>(e.chat.messages.sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))),e)));e.sort(((e,t)=>{const a=e.chat.messages[0],s=t.chat.messages[0];return new Date(s.timestamp)-new Date(a.timestamp)})),ee(e)}catch(e){console.error("Error fetching all chats:",e)}};(0,l.useEffect)((()=>{i&&(async()=>{try{const e=await d.Z.get("/api/get/chat/".concat(i,"/").concat(le));_(e.data)}catch(e){console.error("Error fetching chat information:",e)}})()}),[i,M,null===w||void 0===w?void 0:w.id,le,$]),(0,l.useEffect)((()=>{me&&(async()=>{try{const e=await d.Z.get("/api/getproductbyid/".concat(me));ae(e.data)}catch(e){console.error("Error fetching receiver information:",e)}})()}),[me]),(0,l.useEffect)((()=>{je&&(async()=>{try{const e=await d.Z.get("/api/user/".concat(je));re(e.data)}catch(e){console.error("Error fetching receiver information:",e)}})()}),[je]),(0,l.useEffect)((()=>{(async()=>{try{const e=await d.Z.get("/api/get/messages/".concat(i));C(e.data);const t=e.data[0];t&&(t.sender_id!==le?we(t.sender_id):we(t.receiver_id))}catch(e){console.error("Error fetching messages:",e)}})()}),[i,le]);const rt=()=>{document.getElementById("imageInput").click()},lt=async()=>{if(D(!0),""!==N.trim()){r.current.emit("send_message",{chat_id:i,sender_id:le,receiver_id:je,product_id:me,content:N});try{await d.Z.post("/api/send/messages",{chat_id:i,sender_id:le,receiver_id:je,product_id:me,content:N}),E(""),pe("")}catch(e){console.error("Error sending message:",e)}}},ct=async e=>{const t=""!==ge.trim()?ge:ue;let a;"Pending"===e?a='<h6 style="color: #035956; font-weight: 500;">Offered Price</h6><span style="font-weight: 600;">'.concat(nt(ge),"</span>"):"Cancelled"===e?a='<h6 style="color: red; font-weight: 500;">Offer Cancelled</h6><span style="font-weight: 600;">'.concat(nt(ue),"</span>"):"Accepted"===e?a='<h6 style="color: green; font-weight: 500;">Offer Accepted</h6><span style="font-weight: 600;">'.concat(nt(ue),"</span>"):"Declined"===e&&(a='<h6 style="color: red; font-weight: 500;">Offer Declined</h6><span style="font-weight: 600;">'.concat(nt(ue),"</span>")),r.current.emit("send_message",{chat_id:i,sender_id:le,receiver_id:je,product_id:me,content:a});try{const a=await d.Z.post("/api/send-offer/messages",{chat_id:i,sender_id:le,receiver_id:je,product_id:me,content:ge||nt(ue),offer_price:t,offer_status:e});D(!1),201===a.status&&(pe(""),D(!0))}catch(s){console.error("Error sending message:",s)}};function ot(e){if(!e)return"Invalid Timestamp";const t=new Date(e);if(isNaN(t.getTime()))return"Invalid Date";const a=new Date;if(t.toDateString()===a.toDateString()){let e=t.getHours();const a=String(t.getMinutes()).padStart(2,"0"),s=e>=12?"PM":"AM";e=e%12||12;const n=String(e).padStart(2,"0");return"".concat(n,":").concat(a," ").concat(s)}{const e=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),s=t.getFullYear();return"".concat(e,"/").concat(a,"/").concat(s)}}const dt=ot(Date.now());console.log(dt);const mt=ot(new Date("2023-05-25").getTime());console.log(mt);const ut=e=>{if(e&&e.length>0){return[...e].sort(((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)))[0].content}return""},ht=e=>e&&e.length>0?e[0].timestamp:"",vt=e=>{const t=e.target.value;if(Te(t),""===t&&null===X)return void De(Fe);if(""===t&&"archived"===(null===X||void 0===X?void 0:X.value))return void De(Ae);const a=Fe.filter((e=>{var a,s;const n=(null===e||void 0===e||null===(a=e.chat)||void 0===a?void 0:a.product)&&e.chat.product.product_name.toLowerCase().includes(t.toLowerCase()),i=(null===e||void 0===e?void 0:e.otherParticipant)&&(null===e||void 0===e||null===(s=e.otherParticipant)||void 0===s?void 0:s.display_name.toLowerCase().includes(t.toLowerCase()));return n||i}));De(a)},gt=e=>{G(e),"unread"===e.value&&De(Se),"inbox"===e.value&&De(Fe),"archived"===e.value&&De(Ae)},pt=async e=>{try{await d.Z.put("/api/read-message/".concat(e),{read:!0}),it()}catch(t){console.error("Error marking message as read:",t)}},ft=async e=>{try{await d.Z.put("/api/archive-message/".concat(e)),it()}catch(t){console.error("Error toggling archive status:",t)}},xt=e=>!!Ae.find((t=>t.chat_id===e));return(0,U.jsxs)(U.Fragment,{children:[be&&(0,U.jsx)("div",{className:"popup",onClick:tt,children:(0,U.jsxs)("div",{className:"popup-content",onClick:e=>e.stopPropagation(),children:[(0,U.jsx)("img",{src:Ce,alt:"Large",className:"large-image"}),(0,U.jsx)("button",{className:"close-button",onClick:tt,children:(0,U.jsx)("i",{class:"fa fa-times"})})]})}),L&&(0,U.jsx)(Q.Z,{onClick:_e,productId:me,productName:null===te||void 0===te?void 0:te.product_name,userId:null===w||void 0===w?void 0:w.id}),I&&(0,U.jsx)(W,{onClick:$e,chatId:i,productId:me,sellerId:xe,targetId:je,userId:null===w||void 0===w?void 0:w.id,displayName:oe,profileImg:de}),(0,U.jsx)("div",{className:"header-container",children:(0,U.jsx)(h.Z,{})}),(0,U.jsx)("div",{className:"container",children:(0,U.jsxs)("div",{className:"chat-container",children:[Ge?(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("div",{className:"chat-left",children:[(0,U.jsxs)("div",{className:"chat-left-row1",children:[(0,U.jsxs)("div",{className:"chat-left-row1-header",children:[(0,U.jsx)("h3",{children:"Chat"}),(0,U.jsx)(B.Z,{data:ke,onOptionSelect:gt,className:"custom-select"})]}),(0,U.jsxs)("div",{className:"chat-search-box-container",children:[(0,U.jsx)(f.Z,{className:"chat-search-box",placeholder:"Search user name or item name...",value:Le,onChange:vt}),(0,U.jsx)("div",{className:"magnifying-glass",children:(0,U.jsx)(S.r,{})})]})]}),(0,U.jsx)("div",{className:"user-chat-list-container",children:Array.isArray(Me)&&Me.length>0?Me.map(((e,t)=>{var a,s,n,r,l,c,o,d,m;const h=(null===e||void 0===e?void 0:e.chat_id)===i;return(0,U.jsx)(u.OL,{to:"/messages/".concat(null===e||void 0===e?void 0:e.chat_id),className:"user-chat-list",children:(0,U.jsxs)("div",{className:"select-user-conversation ".concat(h?"active":""),onClick:()=>pt(e.chat_id),children:[(0,U.jsxs)("div",{className:"user-chat-info-container",children:[(0,U.jsx)("img",{src:(null===e||void 0===e||null===(a=e.otherParticipant)||void 0===a?void 0:a.profile_pic)||F,alt:"User Chat"}),(0,U.jsxs)("div",{className:"chat-user-name-messages",children:[(0,U.jsx)("span",{className:"chat-user-name",children:(null===e||void 0===e||null===(s=e.otherParticipant)||void 0===s?void 0:s.display_name)||"Unknown"}),(0,U.jsx)("span",{className:"chat-product-name",children:null!==e&&void 0!==e&&null!==(n=e.chat)&&void 0!==n&&null!==(r=n.product)&&void 0!==r&&r.product_name?st(null===e||void 0===e||null===(l=e.chat)||void 0===l||null===(c=l.product)||void 0===c?void 0:c.product_name,25):"The item has been removed"}),(0,U.jsx)("span",{className:"chat-user-messages",children:(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:ut(null===e||void 0===e||null===(o=e.chat)||void 0===o?void 0:o.messages)}})})]})]}),(0,U.jsxs)("div",{className:"chat-time-container",children:[(0,U.jsx)("small",{className:"last-message-time",children:ot(ht(null===e||void 0===e||null===(d=e.chat)||void 0===d?void 0:d.messages))}),(null===e||void 0===e||null===(m=e.chat)||void 0===m?void 0:m.messages.some((e=>e.receiver_id===(null===w||void 0===w?void 0:w.id)&&!e.read)))&&(0,U.jsx)("div",{className:"circle-container",children:(0,U.jsx)("div",{className:"circle"})})]})]})},t)})):(0,U.jsx)("div",{className:"no-chat-messages",children:(0,U.jsx)("p",{children:"No Chats Available..."})})})]})}):null,He?(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("div",{className:"chat-left",children:[(0,U.jsxs)("div",{className:"chat-left-row1",children:[(0,U.jsxs)("div",{className:"chat-left-row1-header",children:[(0,U.jsx)(u.OL,{to:"/",className:"back-arrow"}),(0,U.jsx)("h3",{children:"Chat List"}),(0,U.jsx)(B.Z,{data:ke,onOptionSelect:gt,className:"custom-select"})]}),(0,U.jsxs)("div",{className:"chat-search-box-container",children:[(0,U.jsx)(f.Z,{className:"chat-search-box",placeholder:"Search user name or item name...",value:Le,onChange:vt}),(0,U.jsx)("div",{className:"magnifying-glass",children:(0,U.jsx)(S.r,{})})]})]}),(0,U.jsx)("div",{className:"user-chat-list-container",children:Array.isArray(Me)&&Me.length>0?Me.map(((e,t)=>{var a,s,n,r,l,c,o,d,m;const h=(null===e||void 0===e?void 0:e.chat_id)===i;return(0,U.jsx)(u.OL,{to:"/messages/".concat(null===e||void 0===e?void 0:e.chat_id),className:"user-chat-list",children:(0,U.jsxs)("div",{className:"select-user-conversation ".concat(h?"active":""),onClick:()=>{pt(e.chat_id),ze(!0),Xe(!1)},children:[(0,U.jsxs)("div",{className:"user-chat-info-container",children:[(0,U.jsx)("img",{src:(null===e||void 0===e||null===(a=e.otherParticipant)||void 0===a?void 0:a.profile_pic)||F,alt:"User Chat"}),(0,U.jsxs)("div",{className:"chat-user-name-messages",children:[(0,U.jsx)("span",{className:"chat-user-name",children:(null===e||void 0===e||null===(s=e.otherParticipant)||void 0===s?void 0:s.display_name)||"Unknown"}),(0,U.jsx)("span",{className:"chat-product-name",children:null!==e&&void 0!==e&&null!==(n=e.chat)&&void 0!==n&&null!==(r=n.product)&&void 0!==r&&r.product_name?st(null===e||void 0===e||null===(l=e.chat)||void 0===l||null===(c=l.product)||void 0===c?void 0:c.product_name,25):"The item has been removed"}),(0,U.jsx)("span",{className:"chat-user-messages",children:(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:ut(null===e||void 0===e||null===(o=e.chat)||void 0===o?void 0:o.messages)}})})]})]}),(0,U.jsxs)("div",{className:"chat-time-container",children:[(0,U.jsx)("small",{className:"last-message-time",children:ot(ht(null===e||void 0===e||null===(d=e.chat)||void 0===d?void 0:d.messages))}),(null===e||void 0===e||null===(m=e.chat)||void 0===m?void 0:m.messages.some((e=>e.receiver_id===(null===w||void 0===w?void 0:w.id)&&!e.read)))&&(0,U.jsx)("div",{className:"circle-container",children:(0,U.jsx)("div",{className:"circle"})})]})]})},t)})):(0,U.jsx)("div",{className:"no-chat-messages",children:(0,U.jsx)("p",{children:"No Chats Available..."})})})]})}):null,(0,U.jsxs)("div",{className:"chat-right",style:{display:Je?"flex":"none"},children:[$.some((e=>e.chat_id===i))?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"chat-right-row1",children:[(0,U.jsx)(u.OL,{to:"/messages",className:"back-arrow",onClick:()=>{ze(!1),Xe(!0)}}),(0,U.jsxs)("div",{className:"user-chat-info-container",children:[(0,U.jsx)(u.rU,{to:"/profile/".concat(null===ie||void 0===ie?void 0:ie.id),children:(0,U.jsx)("img",{src:(null===ie||void 0===ie?void 0:ie.profile_pic)||F,alt:""})}),(0,U.jsxs)("div",{className:"chat-user-name-messages",children:[(0,U.jsx)(u.rU,{to:"/profile/".concat(null===ie||void 0===ie?void 0:ie.id),className:"chat-user-name",children:null===ie||void 0===ie?void 0:ie.display_name}),(0,U.jsx)("span",{className:"chat-user-status ".concat(ce),children:ce})]})]}),(0,U.jsxs)("div",{className:"three-dots-container",onClick:()=>{H(!z)},children:[(0,U.jsx)("div",{className:"three-dots-chat",children:(0,U.jsx)(x.r,{})}),z&&(0,U.jsx)("div",{className:"chat-action-options",ref:at,children:(0,U.jsxs)("ul",{children:[!xt(i)&&(0,U.jsx)("li",{onClick:()=>ft(i),children:"Archive Chat"}),xt(i)&&(0,U.jsx)("li",{onClick:()=>ft(i),children:"Unarchive Chat"}),(0,U.jsx)("li",{onClick:()=>(async e=>{try{await d.Z.put("/api/delete-chat/".concat(e)),it()}catch(t){console.error("Error deleting chat:",t)}})(i),children:"Delete Chat"})]})})]})]}),(0,U.jsxs)("div",{className:"chat-right-row2",children:[(0,U.jsxs)("div",{className:"selling-item-container",children:[(0,U.jsxs)(u.rU,{to:"/productdetails/".concat(null===te||void 0===te?void 0:te.id,"/").concat(encodeURIComponent(null===te||void 0===te?void 0:te.product_name)),className:"chat-selling-item-img-box",target:"_blank",rel:"noopener noreferrer",children:["Sold"===fe&&(0,U.jsx)("div",{className:"sold-ribbon-label",children:(0,U.jsx)("span",{children:"SOLD"})}),(0,U.jsx)("img",{src:null!==te&&void 0!==te&&te.images&&te.images.length>0?te.images[0].image_url:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAIAAAD/gAIDAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAwhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDAyIDc5LjE2NDQ2MCwgMjAyMC8wNS8xMi0xNjowNDoxNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OTE4MDZFMDBEQjk0MTFFRThGMUNGMUNGMTZBNzZBOTUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OTE4MDZERkZEQjk0MTFFRThGMUNGMUNGMTZBNzZBOTUiIHhtcDpDcmVhdG9yVG9vbD0iUGFpbnRTaG9wIFBybyAxNi4wMCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJFRDE3ODlDQUQ3ODFGMjQ5MkFFMEFEMUNCOTQ0NkNENyIgc3RSZWY6ZG9jdW1lbnRJRD0iRUQxNzg5Q0FENzgxRjI0OTJBRTBBRDFDQjk0NDZDRDciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4bvud3AAAW80lEQVR42tSde2xU1RbGyzjX99Uq0EItFKUtbaGCpYrCRXxjjEhM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",alt:""})]}),(0,U.jsxs)("div",{className:"chat-item-info",children:[(0,U.jsx)(u.rU,{to:"/productdetails/".concat(null===te||void 0===te?void 0:te.id,"/").concat(encodeURIComponent(null===te||void 0===te?void 0:te.product_name)),className:"chat-item-name",target:"_blank",rel:"noopener noreferrer",children:null!==te&&void 0!==te&&te.product_name?null===te||void 0===te?void 0:te.product_name:"The item has been removed"}),(0,U.jsx)("span",{className:"chat-item-price",children:nt((null===te||void 0===te?void 0:te.price)||"")})]})]}),te?"Pending"===he||"Accepted"===he?xe===le?"Sold"===fe?(0,U.jsx)("div",{className:"offer-buttons",children:(0,U.jsx)(Z.Z,{className:"item-sold-btn",label:"Item Sold",disabled:!0})}):"Pending"===he?(0,U.jsxs)("div",{className:"offer-buttons",children:[(0,U.jsx)(p.Z,{label:"Accept Offer",className:"accept-offer-btn",onClick:()=>{ct("Accepted")}}),(0,U.jsx)(Z.Z,{label:"Decline Offer",onClick:()=>{D(!1),ct("Declined")}}),(0,U.jsx)(Z.Z,{label:"Mark as Sold",onClick:_e})]}):(0,U.jsxs)("div",{className:"offer-buttons",children:[ve&&0===ve.length?(0,U.jsx)(p.Z,{className:"change-offer-btn",label:"Leave Review",onClick:$e}):(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("span",{children:"Review Submitted \xa0\xa0"})}),(0,U.jsx)(Z.Z,{label:"Mark as Sold",onClick:_e})]}):(0,U.jsx)("div",{className:"offer-buttons",children:Be?"Sold"===fe?(0,U.jsx)("div",{className:"offer-buttons",children:(0,U.jsx)(Z.Z,{className:"item-sold-btn",label:"Item Sold",disabled:!0})}):"Pending"===he?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)(p.Z,{className:"change-offer-btn",label:"Change Offer",onClick:Ke}),(0,U.jsx)(Z.Z,{label:"Cancel Offer",onClick:()=>{D(!1),ct("Cancelled")}})]}):ve&&0===ve.length?(0,U.jsx)(p.Z,{className:"change-offer-btn",label:"Leave Review",onClick:$e}):(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("span",{children:"Review Submitted"})}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"input-offer-container",children:[(0,U.jsx)("span",{className:"php-symbol",children:"\u20b1"}),(0,U.jsx)(f.Z,{type:"number",value:ge||"0.00",className:"input-offer",onChange:e=>{pe(e.target.value),D(!1)}})]}),(0,U.jsxs)("div",{className:"offer-buttons",children:[(0,U.jsx)(p.Z,{label:"Send Offer",className:"send-offer-btn",onClick:()=>{ct("Pending"),Ke()},disabled:!(null!==ge&&void 0!==ge&&ge.trim())}),(0,U.jsx)(Z.Z,{label:"Cancel",onClick:Ke})]})]})}):xe===le?"Sold"===fe?(0,U.jsx)("div",{className:"offer-buttons",children:(0,U.jsx)(Z.Z,{className:"item-sold-btn",label:"Item Sold",disabled:!0})}):(0,U.jsx)("div",{className:"offer-buttons",children:(0,U.jsx)(Z.Z,{label:"Mark as Sold",onClick:_e})}):"Sold"===fe?(0,U.jsx)("div",{className:"offer-buttons",children:(0,U.jsx)(Z.Z,{className:"item-sold-btn",label:"Item Sold",disabled:!0})}):(0,U.jsx)("div",{className:"offer-buttons",children:Ue?(0,U.jsx)(p.Z,{label:"Make Offer",onClick:Ye,className:"make-offer-btn"}):(0,U.jsxs)(U.Fragment,{children:[(0,U.jsxs)("div",{className:"input-offer-container",children:[(0,U.jsx)("span",{className:"php-symbol",children:"\u20b1"}),(0,U.jsx)(f.Z,{type:"number",value:ge||"0.00",className:"input-offer",onChange:e=>pe(e.target.value)})]}),(0,U.jsxs)("div",{className:"offer-buttons",children:[(0,U.jsx)(p.Z,{label:"Send Offer",className:"send-offer-btn",onClick:()=>{ct("Pending")},disabled:!(null!==ge&&void 0!==ge&&ge.trim())}),(0,U.jsx)(Z.Z,{label:"Cancel",onClick:Ye})]})]})}):null]})]}):null,(0,U.jsx)("div",{className:"chat-right-row3",ref:Ve,children:$.some((e=>e.chat_id===i))?(0,U.jsx)(U.Fragment,{children:b.map(((e,t)=>{const a=ot(e.timestamp);return e.sender_id===le?(0,U.jsx)("div",{className:"chat-sent-messages",children:(0,U.jsx)("div",{className:"chat-sent-message-info-container",children:(0,U.jsxs)("div",{className:"row1",children:[(0,U.jsxs)("div",{className:"chat-sent-message-data",children:[Ee(e.content)&&(0,U.jsx)("div",{children:(0,U.jsx)("img",{src:e.content,className:"chat-uploaded-image",alt:"",onClick:()=>et(e.content)})}),!Ee(e.content)&&(0,U.jsx)("div",{className:"chat-sent-message-box",children:Ie(e.content)?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"offered-price-label",children:(0,U.jsx)("h6",{children:"Offered Price"})}),(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:nt(e.content)}})]}):Ze(e.content)||Qe(e.content)||Re(e.content)?(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:e.content}}):(0,U.jsx)("span",{className:"normal-chat-text",children:e.content})}),(0,U.jsx)("img",{src:(null===w||void 0===w?void 0:w.profile_pic)||F,alt:""})]}),(0,U.jsx)("small",{className:"chat-time-sent-message",children:a}),t===b.length-1&&P&&(0,U.jsx)("div",{className:"loading-spinner-container",children:(0,U.jsx)(A.r,{})}),0===b.length&&P&&(0,U.jsx)(A.r,{})]})})},t):(0,U.jsx)("div",{className:"chat-received-messages",children:(0,U.jsxs)("div",{className:"chat-received-message-info-container",children:[(0,U.jsx)("div",{className:"row1",children:(0,U.jsxs)("div",{className:"chat-received-message-data",children:[(0,U.jsx)("img",{src:(null===ie||void 0===ie?void 0:ie.profile_pic)||F,alt:""}),Ee(e.content)&&(0,U.jsx)("img",{src:e.content,className:"chat-uploaded-image",alt:"",onClick:()=>et(e.content)}),!Ee(e.content)&&(0,U.jsx)("div",{className:"chat-received-message-box",children:Ie(e.content)?(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{className:"offered-price-label",children:(0,U.jsx)("h6",{children:"Offered Price"})}),(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:nt(e.content)}})]}):Ze(e.content)||Qe(e.content)||Re(e.content)?(0,U.jsx)("span",{dangerouslySetInnerHTML:{__html:e.content}}):(0,U.jsx)("span",{className:"normal-chat-text",children:e.content})})]})}),(0,U.jsx)("small",{className:"chat-time-received-message",children:a})]})},t)}))}):(0,U.jsx)(U.Fragment,{children:(0,U.jsx)("div",{className:"no-chat-selected",children:"No Chat Selected"})})}),i?(0,U.jsx)(U.Fragment,{children:(0,U.jsxs)("div",{className:"chat-right-row4",children:[(0,U.jsxs)("div",{className:"chat-icon-buttons",children:[(0,U.jsx)("label",{htmlFor:"imageInput",children:(0,U.jsx)("div",{className:"chat-upload-img-btn",onClick:()=>rt,children:(0,U.jsx)(j.r,{})})}),(0,U.jsx)("input",{id:"imageInput",type:"file",accept:"image/*",onChange:async e=>{console.log("handleImageUpload triggered");const t=e.target.files[0];if(t)try{if(J(!0),t){const e=new FormData;e.append("image",t);const a=await d.Z.post("/api/upload-chat-image",e,{headers:{"Content-Type":"multipart/form-data"}});if(200===a.status){const e=a.data.imageUrl;console.log("imageUrl:",e),r.current.emit("send_message",{chat_id:i,sender_id:le,receiver_id:je,product_id:me,content:e}),await d.Z.post("/api/send/messages",{chat_id:i,sender_id:le,receiver_id:je,product_id:me,content:e}),J(!1)}}}catch(a){J(!1),console.error("Error uploading image:",a)}},style:{display:"none"}}),(0,U.jsxs)("div",{onClick:()=>V(!O),ref:Oe,className:"chat-emote-btn",children:[(0,U.jsx)(y,{}),O&&(0,U.jsx)("div",{className:"emoji-picker",children:(0,U.jsx)(g.Z,{data:v,emojiSize:20,emojiButtonSize:28,maxFrequentRows:2,onEmojiSelect:e=>{E(N+e.native),V(!1)}})})]})]}),(0,U.jsx)(f.Z,{type:"text",className:"chat-input-message-box",placeholder:"Type your message",value:N,onKeyDown:e=>{"Enter"===e.key&&lt()},onChange:e=>E(e.target.value)}),(0,U.jsx)("button",{onClick:lt,disabled:!N.trim(),className:"chat-send-icon-btn",children:(0,U.jsx)("div",{className:"chat-send-icon",children:(0,U.jsx)(k,{})})})]})}):null]})]})})]})}},4166:()=>{},7229:e=>{e.exports="data:image/png;base64,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"}}]);
//# sourceMappingURL=3676.e9dfc238.chunk.js.map