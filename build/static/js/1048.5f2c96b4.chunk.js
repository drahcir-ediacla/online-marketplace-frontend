"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[1048],{1048:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var i=a(2791),n=a(2892),o=a(1632),r=a(9806),c=a(1087),l=(a(1055),a(3472)),t=a(5167),d=a(10),u=a(3615),h=a(1650),m=a(9915),x=a(9401),j=a(9434),p=a(1757),f=a(3607),v=a(184);const N=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,g=/^.{8,24}$/,w=()=>{const[e,s]=(0,i.useState)(!1),a=(0,i.useRef)(),w=(0,i.useRef)(),[b,y]=(0,i.useState)(""),[C,S]=(0,i.useState)(!1),[k,E]=(0,i.useState)(!1),[G,Z]=(0,i.useState)(""),[F,A]=(0,i.useState)(!1),[P,B]=(0,i.useState)(""),[I,L]=(0,i.useState)(!1),[U,z]=(0,i.useState)(!1),[R,_]=(0,i.useState)(""),[q,T]=(0,i.useState)(!1),[D,M]=(0,i.useState)(!1),[V,$]=(0,i.useState)(""),[O,Y]=(0,i.useState)(!1),[H,J]=(0,i.useState)(0),[K,Q]=(0,i.useState)(!1),[W,X]=(0,i.useState)(!1),ee=(0,j.I0)();(0,i.useEffect)((()=>{a.current.focus()}),[]),(0,i.useEffect)((()=>{const e=N.test(b);console.log(e),console.log(b),S(e)}),[b]),(0,i.useEffect)((()=>{const e=g.test(P);console.log(e),console.log(P),L(e);T(P===R)}),[P,R]),(0,i.useEffect)((()=>{$("")}),[b,P,R]),(0,i.useEffect)((()=>{A(G.length>0)}),[G]),(0,i.useEffect)((()=>{if(H>0){const e=setTimeout((()=>{J(H-1)}),1e3);return()=>clearTimeout(e)}}),[H]);const[se,ae]=(0,i.useState)({email:"",password:"",otp:""}),ie=e=>{const{name:s,value:a}=e.target;ae({...se,[s]:a})};return(0,v.jsxs)(v.Fragment,{children:[O&&(0,v.jsx)(l.Z,{onClick:()=>{console.log("Navigating to LoginPhone"),window.location.href="/LoginEmail"}}),(0,v.jsxs)(v.Fragment,{children:[e&&(0,v.jsx)(f.Z,{type:"error",message:V}),(0,v.jsxs)("div",{className:"register-form-container",children:[(0,v.jsxs)("form",{className:"register-form",onSubmit:async e=>{e.preventDefault();const a=N.test(b),i=g.test(P);if(a&&i){try{ee((0,p.P)(!0));201===(await n.Z.post("/api/email-register",se)).status&&(ee((0,p.P)(!1)),Y(!0),y(""),B(""),_(""),Z(""))}catch(o){ee((0,p.P)(!1));let e="An error occurred during registration";if(o.response)switch(o.response.status){case 409:e="Account already exists for this email.";break;case 401:e="Invalid or expired verification code.";break;case 404:e="Invalid verification code.";break;default:console.error("Error:",o)}else console.error("Error:",o);Y(!1),$(e),s(!0)}w.current&&w.current.focus()}else $("Invalid Entry")},children:[(0,v.jsxs)("div",{className:"row1",children:[(0,v.jsx)("div",{className:"col1",children:(0,v.jsx)(c.rU,{to:"/",children:(0,v.jsx)("img",{src:t,alt:"",className:"auth-form-logo"})})}),(0,v.jsx)("div",{className:"col2",children:(0,v.jsx)("h4",{children:"Create an account"})})]}),(0,v.jsxs)("div",{className:"row2",children:[(0,v.jsxs)("div",{className:"col1 input-container",children:[(0,v.jsxs)("div",{className:"row1",children:[(0,v.jsxs)("label",{htmlFor:"emailAddress",children:["Email",(0,v.jsx)(r.G,{icon:o.LEp,className:C?"valid":"hide"}),(0,v.jsx)(r.G,{icon:o.NBC,className:C||!b?"hide":"invalid"})]}),(0,v.jsx)(c.rU,{to:"/RegisterByPhone",children:"Verify with phone number"})]}),(0,v.jsxs)("div",{className:"row2",children:[(0,v.jsx)("input",{type:"email",id:"emailAddress",name:"email",ref:a,autoComplete:"off",onChange:e=>{y(e.target.value),ie(e)},value:b,required:!0,"aria-invalid":C?"false":"true","aria-describedby":"uidnote",onFocus:()=>E(!0),onBlur:()=>E(!1),placeholder:"Enter your email address"}),(0,v.jsxs)("p",{id:"uidnote",className:k&&b&&!C?"instructions":"offscreen",children:[(0,v.jsx)(r.G,{icon:o.sqG,color:"red"}),(0,v.jsx)("span",{children:" Invalid email address format!"})]})]})]}),(0,v.jsxs)("div",{className:"col2 input-container",children:[(0,v.jsx)("div",{className:"row1",children:(0,v.jsx)("b",{children:"Verification Code"})}),(0,v.jsxs)("div",{className:"row2",children:[(0,v.jsx)("input",{type:"text",placeholder:"Enter the verification code",name:"otp",value:G,onChange:e=>{Z(e.target.value),ie(e)}}),H>0&&(0,v.jsx)("div",{className:"instructions",children:(0,v.jsxs)("span",{children:["OTP sent to your email expires in: ",H,"s"]})}),K?(0,v.jsx)("div",{className:"send-otp-spinner",children:(0,v.jsx)(x.r,{})}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(u.Z,{type:"button",label:W?"Resend Code":"Send Code",onClick:async e=>{e.preventDefault();try{s(!1),Q(!0);201===(await n.Z.post("/api/send-email-registration-otp",se)).status&&(Q(!1),X(!0),J(120))}catch(a){409===a.response.status&&($("Account already exists for this email."),Y(!1),Q(!1),s(!0))}},className:"send-code",disabled:!C||H})})]})]})]}),(0,v.jsxs)("div",{className:"row3",children:[(0,v.jsxs)("div",{className:"col1 input-container",children:[(0,v.jsx)("div",{className:"row1",children:(0,v.jsxs)("label",{htmlFor:"password",children:["Password",(0,v.jsx)(r.G,{icon:o.LEp,className:I?"valid":"hide"}),(0,v.jsx)(r.G,{icon:o.NBC,className:I||!P?"hide":"invalid"})]})}),(0,v.jsxs)("div",{className:"row2",children:[(0,v.jsx)("input",{type:"password",id:"password",name:"password",onChange:e=>{B(e.target.value),ie(e)},value:P,"aria-invalid":I?"false":"true","aria-describedby":"pwdnote",onFocus:()=>z(!0),onBlur:()=>z(!1),placeholder:"Enter your password"}),(0,v.jsxs)("p",{id:"pwdnote",className:U&&!I?"instructions":"offscreen",children:[(0,v.jsx)(r.G,{icon:o.sqG}),(0,v.jsx)("span",{children:" Must be 8 to 24 characters."})]})]})]}),(0,v.jsxs)("div",{className:"col2 input-container",children:[(0,v.jsx)("div",{className:"row1",children:(0,v.jsxs)("label",{htmlFor:"confirm_pwd",children:["Confirm Password",(0,v.jsx)(r.G,{icon:o.LEp,className:q&&R?"valid":"hide"}),(0,v.jsx)(r.G,{icon:o.NBC,className:q||!R?"hide":"invalid"})]})}),(0,v.jsxs)("div",{className:"row2",children:[(0,v.jsx)("input",{type:"password",id:"confirm_pwd",onChange:e=>_(e.target.value),value:R,"aria-invalid":q?"false":"true","aria-describedby":"confirmnote",onFocus:()=>M(!0),onBlur:()=>M(!1),placeholder:"Re-enter your password"}),(0,v.jsxs)("p",{id:"confirmnote",className:D&&!q?"instructions":"offscreen",children:[(0,v.jsx)(r.G,{icon:o.sqG}),(0,v.jsx)("span",{children:" Must match the first password input field."})]})]})]})]}),(0,v.jsx)("div",{className:"row4",children:(0,v.jsx)(d.Z,{onClick:()=>s(!1),label:"Continue",className:"reset-pswrd-btn",disabled:!C||!F||!I||!q})})]}),(0,v.jsxs)("div",{className:"row5",children:[(0,v.jsx)("div",{className:"horizontal-line"}),(0,v.jsx)("small",{children:"or"}),(0,v.jsx)("div",{className:"horizontal-line"})]}),(0,v.jsx)("div",{className:"row6",children:(0,v.jsx)(d.Z,{icon:(0,v.jsx)(h.r,{}),label:"Continue with Facebook",className:"facebook-btn",IconclassName:"fb-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/facebook/callback");window.open(e,"_self")}})}),(0,v.jsx)("div",{className:"row7",children:(0,v.jsx)(d.Z,{icon:(0,v.jsx)(m.r,{}),label:"Continue with Google",className:"google-btn",IconclassName:"google-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/google");window.open(e,"_self")}})}),(0,v.jsx)("div",{className:"row8",children:(0,v.jsxs)("small",{children:["By continuing, you agree to Yogeek ",(0,v.jsx)(c.rU,{to:"#",children:"Conditions of Use"})," and ",(0,v.jsx)(c.rU,{to:"#",children:"Privacy Notice"}),"."]})}),(0,v.jsx)("div",{className:"row9",children:(0,v.jsxs)("small",{children:["Already have an account? ",(0,v.jsx)(c.rU,{to:"/LoginEmail",children:"Sign in here!"})]})})]})]})]})};var b=a(1938);a(9006);const y=()=>(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"form-body",children:[(0,v.jsx)("div",{className:"container",children:(0,v.jsx)("div",{className:"form-box",children:(0,v.jsx)(w,{})})}),(0,v.jsx)(b.Z,{})]})})}}]);
//# sourceMappingURL=1048.5f2c96b4.chunk.js.map