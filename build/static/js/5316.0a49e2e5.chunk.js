"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[5316],{5316:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var n=a(2791),o=a(2892),i=a(1087),t=(a(3307),a(1632)),r=a(9806),c=a(5963),l=a(10),d=a(5167),u=a(3615),h=a(1650),m=a(9915),x=a(9401),p=a(9434),j=a(1757),v=a(3607),f=a(184);const N=/^\d{10}$/,w=/^.{8,24}$/,b=()=>{const[e,s]=(0,n.useState)(!1),a=(0,n.useRef)(),[b,g]=(0,n.useState)(""),[y,C]=(0,n.useState)(!1),[S,k]=(0,n.useState)(!1),[E,G]=(0,n.useState)(""),[P,F]=(0,n.useState)(!1),[B,Z]=(0,n.useState)(""),[R,U]=(0,n.useState)(!1),[L,I]=(0,n.useState)(!1),[q,_]=(0,n.useState)(""),[T,z]=(0,n.useState)(!1),[D,M]=(0,n.useState)(!1),[Y,$]=(0,n.useState)(""),[A,O]=(0,n.useState)(!1),[V,H]=(0,n.useState)(0),[J,K]=(0,n.useState)(!1),[Q,W]=(0,n.useState)(!1),X=(0,p.I0)();(0,n.useEffect)((()=>{const e=N.test(b);C(e)}),[b]),(0,n.useEffect)((()=>{const e=w.test(B);console.log(e),console.log(B),U(e);z(B===q)}),[B,q]),(0,n.useEffect)((()=>{$("")}),[B,q]),(0,n.useEffect)((()=>{F(E.length>0)}),[E]),(0,n.useEffect)((()=>{if(V>0){const e=setTimeout((()=>{H(V-1)}),1e3);return()=>clearTimeout(e)}}),[V]);const[ee,se]=(0,n.useState)({phone:"",password:"",otp:""}),ae=e=>{const{name:s,value:a}=e.target;se({...ee,[s]:a})};return(0,f.jsxs)(f.Fragment,{children:[A&&(0,f.jsx)(c.Z,{onClick:()=>{console.log("Navigating to LoginPhone"),window.location.href="/LoginEmail"}}),(0,f.jsxs)(f.Fragment,{children:[e&&(0,f.jsx)(v.Z,{type:"error",message:Y}),(0,f.jsxs)("div",{className:"reset-form-container",children:[(0,f.jsxs)("form",{className:"reset-form",onSubmit:async e=>{e.preventDefault();const n=N.test(b),i=w.test(B);if(n&&i){try{X((0,j.P)(!0));201===(await o.Z.put("/api/reset-password-phone",ee)).status&&(X((0,j.P)(!1)),O(!0),g(""),Z(""),_(""),G(""))}catch(t){X((0,j.P)(!1));let e="An error occurred during updating password";if(t.response)switch(t.response.status){case 404:e="Phone not found.";break;case 401:e="Invalid or expired verification code.";break;default:console.error("Error:",t)}else console.error("Error:",t);O(!1),$(e),s(!0)}a.current&&a.current.focus()}else $("Invalid Entry")},children:[(0,f.jsxs)("div",{className:"row1",children:[(0,f.jsx)("div",{className:"col1",children:(0,f.jsx)(i.rU,{to:"/",children:(0,f.jsx)("img",{src:d,alt:"",className:"auth-form-logo"})})}),(0,f.jsxs)("div",{className:"col2",children:[(0,f.jsx)(i.rU,{to:"/LoginEmail",children:"Sign in"})," to Yogeek or ",(0,f.jsx)(i.rU,{to:"/RegisterByEmail",children:"create an account"})]})]}),(0,f.jsxs)("div",{className:"row2 input-container",children:[(0,f.jsxs)("div",{className:"col1",children:[(0,f.jsxs)("label",{htmlFor:"phoneNumber",children:["Phone Number",(0,f.jsx)(r.G,{icon:t.LEp,className:y?"valid":"hide"}),(0,f.jsx)(r.G,{icon:t.NBC,className:y||!b?"hide":"invalid"})]}),(0,f.jsx)(i.rU,{to:"/ResetByEmail",children:"Reset with email"})]}),(0,f.jsxs)("div",{className:"col2",children:[(0,f.jsx)("input",{type:"number",id:"phoneNumber",name:"phone",value:b,placeholder:"Enter your phone number",className:"phone-number",onChange:e=>{g(e.target.value),ae(e)},onFocus:()=>k(!0),onBlur:()=>k(!1),"aria-invalid":y?"false":"true","aria-describedby":"uidnote",required:!0}),(0,f.jsxs)("p",{id:"uidnote",className:S&&b&&!y?"instructions":"offscreen",children:[(0,f.jsx)(r.G,{icon:t.sqG,color:"red"}),(0,f.jsx)("span",{children:" Phone number format must be 10 digits"})]}),(0,f.jsx)("div",{className:"plus63",children:"+63"})]})]}),(0,f.jsxs)("div",{className:"row3 input-container",children:[(0,f.jsx)("div",{className:"col1",children:(0,f.jsx)("b",{children:"Verification Code"})}),(0,f.jsxs)("div",{className:"col2",children:[(0,f.jsx)("input",{type:"text",placeholder:"Enter the verification code",name:"otp",value:E,onChange:e=>{G(e.target.value),ae(e)}}),V>0&&(0,f.jsx)("div",{className:"instructions",children:(0,f.jsxs)("span",{children:["OTP sent to your phone number expires in: ",V,"s"]})}),J?(0,f.jsx)("div",{className:"send-otp-spinner",children:(0,f.jsx)(x.r,{})}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(u.Z,{type:"button",label:Q?"Resend Code":"Send Code",onClick:async e=>{e.preventDefault();try{s(!1),K(!0);201===(await o.Z.put("/api/reset-password-otp-phone",ee)).status&&(K(!1),W(!0),H(120))}catch(a){404===a.response.status&&($("Phone not found."),O(!1),K(!1),s(!0))}},className:"send-code",disabled:!y||V})})]})]}),(0,f.jsxs)("div",{className:"row4 input-container",children:[(0,f.jsx)("div",{className:"col1",children:(0,f.jsxs)("label",{htmlFor:"password",children:["New Password",(0,f.jsx)(r.G,{icon:t.LEp,className:R?"valid":"hide"}),(0,f.jsx)(r.G,{icon:t.NBC,className:R||!B?"hide":"invalid"})]})}),(0,f.jsxs)("div",{className:"col2",children:[(0,f.jsx)("input",{type:"password",id:"password",name:"password",onChange:e=>{Z(e.target.value),ae(e)},value:B,"aria-invalid":R?"false":"true","aria-describedby":"pwdnote",onFocus:()=>I(!0),onBlur:()=>I(!1),placeholder:"Enter your new password"}),(0,f.jsxs)("p",{id:"pwdnote",className:L&&!R?"instructions":"offscreen",children:[(0,f.jsx)(r.G,{icon:t.sqG}),(0,f.jsx)("span",{children:" Must be 8 to 24 characters."})]})]})]}),(0,f.jsxs)("div",{className:"row5 input-container",children:[(0,f.jsx)("div",{className:"col1",children:(0,f.jsxs)("label",{htmlFor:"confirm_pwd",children:["Confirm Password",(0,f.jsx)(r.G,{icon:t.LEp,className:T&&q?"valid":"hide"}),(0,f.jsx)(r.G,{icon:t.NBC,className:T||!q?"hide":"invalid"})]})}),(0,f.jsxs)("div",{className:"col2",children:[(0,f.jsx)("input",{type:"password",id:"confirm_pwd",onChange:e=>_(e.target.value),value:q,"aria-invalid":T?"false":"true","aria-describedby":"confirmnote",onFocus:()=>M(!0),onBlur:()=>M(!1),placeholder:"Re-enter your new password"}),(0,f.jsxs)("p",{id:"confirmnote",className:D&&!T?"instructions":"offscreen",children:[(0,f.jsx)(r.G,{icon:t.sqG}),(0,f.jsx)("span",{children:" Must match the first password input field."})]})]})]}),(0,f.jsx)("div",{className:"row6",children:(0,f.jsx)(l.Z,{onClick:()=>s(!1),label:"Reset Password",className:"continue-btn reset-btn",disabled:!y||!P||!R||!T})})]}),(0,f.jsxs)("div",{className:"row7",children:[(0,f.jsx)("div",{className:"horizontal-line"}),(0,f.jsx)("small",{children:"or"}),(0,f.jsx)("div",{className:"horizontal-line"})]}),(0,f.jsx)("div",{className:"row8",children:(0,f.jsx)(l.Z,{icon:(0,f.jsx)(h.r,{}),label:"Continue with Facebook",className:"facebook-btn",IconclassName:"fb-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/facebook/callback");window.open(e,"_self")}})}),(0,f.jsx)("div",{className:"row9",children:(0,f.jsx)(l.Z,{icon:(0,f.jsx)(m.r,{}),label:"Continue with Google",className:"google-btn",IconclassName:"google-icon",onClick:()=>{const e="".concat("http://localhost:8081").concat("/auth/google");window.open(e,"_self")}})}),(0,f.jsx)("div",{className:"row10",children:(0,f.jsxs)("small",{children:["By continuing, you agree to Yogeek ",(0,f.jsx)(i.rU,{to:"#",children:"Conditions of Use"})," and ",(0,f.jsx)(i.rU,{to:"#",children:"Privacy Notice"}),"."]})})]})]})]})};var g=a(1938);a(2413);const y=()=>(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{className:"form-body",children:[(0,f.jsx)("div",{className:"container",children:(0,f.jsx)("div",{className:"form-box",children:(0,f.jsx)(b,{})})}),(0,f.jsx)(g.Z,{})]})})}}]);
//# sourceMappingURL=5316.0a49e2e5.chunk.js.map