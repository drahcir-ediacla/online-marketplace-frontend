"use strict";(self.webpackChunkyogeek=self.webpackChunkyogeek||[]).push([[3048],{3048:(e,s,a)=>{a.r(s),a.d(s,{default:()=>f});var t=a(2791),c=a(7689),r=a(2892),i=(a(9326),a(5089)),n=a(3220),o=a(3545),l=a(953),d=a(7956),u=a(5219),m=a(4601),h=a(7531),x=a(4781),j=a(8290),v=(a(5862),a(7556),a(184));const g=e=>{let{menus:s}=e;return Array(s).fill(0).map(((e,s)=>(0,v.jsx)(j.Z,{height:74})))};var p=a(9401),y=a(8558);const f=()=>{const{id:e,name:s}=(0,c.UO)(),[a,j]=(0,t.useState)({}),[f]=(0,t.useState)(!0),[w,N]=(0,t.useState)([]),[Z,k]=(0,t.useState)(!0),b=["Most Recent","Most Viewed","Most Liked"].map((e=>({label:e,value:e.toLowerCase()})));(0,t.useEffect)((()=>{(async()=>{try{k(!0);const a=await r.Z.get("/api/forumcategory/".concat(e,"/").concat(s));j(a.data),k(!1)}catch(a){k(!1),console.error("Error fetching data:",a)}})()}),[e,s]);const D=Array.isArray(null===a||void 0===a?void 0:a.subcategories)?null===a||void 0===a?void 0:a.subcategories:[],S=Array.isArray(null===a||void 0===a?void 0:a.allDiscussions)?null===a||void 0===a?void 0:a.allDiscussions.slice(0,10):[],A=[...S].sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at))),O=[...S].sort(((e,s)=>new Date(s.created_at)-new Date(e.created_at))),_=[...S].sort(((e,s)=>{const a=e.post.reduce(((e,s)=>e+(s.views||0)),0);return s.post.reduce(((e,s)=>e+(s.views||0)),0)-a})),C=[...S].sort(((e,s)=>{const a=e.post.reduce(((e,s)=>e+(s.likes?s.likes.length:0)),0);return s.post.reduce(((e,s)=>e+(s.likes?s.likes.length:0)),0)-a})),M=e=>{"most recent"===e.value&&N(O),"most viewed"===e.value&&N(_),"most liked"===e.value&&N(C)};return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"forum-page-container",children:[(0,v.jsx)(i.Z,{}),(0,v.jsx)("div",{children:(0,v.jsxs)("div",{className:"forum-category-page-container",children:[(0,v.jsx)(m.Z,{sortOptions:b,discussionFilter:f,onOptionSelect:M,emptySortDiscussions:N}),(0,v.jsxs)("div",{className:"forum-category-page-col2",children:[(0,v.jsx)("div",{className:"language-selector-container",children:(0,v.jsx)(o.Z,{})}),(0,v.jsx)(h.Z,{className:"custom-forum-search-box"}),(0,v.jsx)(y.Z,{}),(0,v.jsxs)("div",{className:"discussions-container",children:[(0,v.jsxs)("div",{className:"category-container",children:[(0,v.jsxs)("div",{className:"category-name",children:[(0,v.jsx)("h4",{children:a.name}),(0,v.jsx)("div",{className:"start-discussion-btn-container",children:(0,v.jsx)(l.Z,{label:"Start a discussion"})}),(0,v.jsx)(x.Z,{data:b,onOptionSelect:M,className:"discussion-sortby-dropdown-select"})]}),Z&&(0,v.jsx)(g,{menus:2}),D&&D.length>0&&(0,v.jsx)(d.Z,{data:a})]}),(0,v.jsxs)("div",{className:"recent-discussion",children:[S.length>0&&(0,v.jsx)("h6",{children:"Recent Discussions"}),Z&&(0,v.jsx)("div",{className:"infinite-scroll-loading-spinner",children:(0,v.jsx)(p.r,{})}),w&&w.length>0?(0,v.jsx)(u.Z,{data:w}):(0,v.jsx)(u.Z,{data:A})]})]})]})]})}),(0,v.jsx)(n.Z,{className:"forum-category-footer"})]})})}}}]);
//# sourceMappingURL=3048.1b0c50ea.chunk.js.map